"use strict";(globalThis["webpackChunknonebot_plugin_gocqhttp_frontend"]=globalThis["webpackChunknonebot_plugin_gocqhttp_frontend"]||[]).push([[348],{25206:(e,t,i)=>{i.d(t,{NC:()=>o,aj:()=>r});let n="undefined"!==typeof document&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function s(e,t){let i;return i=0===t.length?e:e.replace(/\{(\d+)\}/g,((e,i)=>{const n=i[0],s=t[n];let o=e;return"string"===typeof s?o=s:"number"!==typeof s&&"boolean"!==typeof s&&void 0!==s&&null!==s||(o=String(s)),o})),n&&(i="［"+i.replace(/[aouei]/g,"$&$&")+"］"),i}function o(e,t,...i){return s(t,i)}function r(e){}},93516:(e,t,i)=>{i.d(t,{A:()=>h});var n=i(2548),s=i(11271),o=i(70959),r=i(55907),a=i(47596),c=i(66538),l=i(38079),u=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},d=function(e,t){return function(i,n){t(i,n,e)}};let h=class extends o.JT{constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new s.Q5,this._onDidChangeReducedMotion=new s.Q5,this._accessibilityModeEnabledContext=r.U.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire()),e.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())}))),n(),this._register(this.onDidChangeScreenReaderOptimized((()=>n())));const o=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=o.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(o)}initReducedMotionListeners(e){if(!this._layoutService.hasContainer)return;this._register((0,n.nm)(e,"change",(()=>{this._systemMotionReduced=e.matches,"auto"===this._configMotionReduced&&this._onDidChangeReducedMotion.fire()})));const t=()=>{const e=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",e),this._layoutService.container.classList.toggle("enable-motion",!e)};t(),this._register(this.onDidChangeReducedMotion((()=>t())))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return"on"===e||"auto"===e&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};h=u([d(0,c.i6),d(1,l.F),d(2,a.Ui)],h)},55907:(e,t,i)=>{i.d(t,{F:()=>o,U:()=>r});var n=i(66538),s=i(21881);const o=(0,s.yh)("accessibilityService"),r=new n.uy("accessibilityModeEnabled",!1)},45940:(e,t,i)=>{i.d(t,{R:()=>s});var n=i(25206);const s=Object.freeze({View:{value:(0,n.NC)("view","View"),original:"View"},Help:{value:(0,n.NC)("help","Help"),original:"Help"},Test:{value:(0,n.NC)("test","Test"),original:"Test"},Preferences:{value:(0,n.NC)("preferences","Preferences"),original:"Preferences"},Developer:{value:(0,n.NC)({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}})},5019:(e,t,i)=>{i.d(t,{v:()=>O});var n=i(2548),s=i(78089),o=i(70959),r=i(25206),a=i(32907),c=i(64347),l=i(51442),u=i(8419),d=i(99588),h=i(47606),g=i(93753),f=i(15285),p=i(22454),m=i(47277),y=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},C=function(e,t){return function(i,n){t(i,n,e)}};const _="acceptSelectedCodeAction",v="previewSelectedCodeAction";class b{get templateId(){return"header"}renderTemplate(e){e.classList.add("group-header");const t=document.createElement("span");return e.append(t),{container:e,text:t}}renderElement(e,t,i){var n,s;i.text.textContent=null!==(s=null===(n=e.group)||void 0===n?void 0:n.title)&&void 0!==s?s:""}disposeTemplate(e){}}let w=class{get templateId(){return"action"}constructor(e,t){this._supportsPreview=e,this._keybindingService=t}renderTemplate(e){e.classList.add(this.templateId);const t=document.createElement("div");t.className="icon",e.append(t);const i=document.createElement("span");i.className="title",e.append(i);const n=new c.e(e,h.OS);return{container:e,icon:t,text:i,keybinding:n}}renderElement(e,t,i){var s,o,c;if((null===(s=e.group)||void 0===s?void 0:s.icon)?(i.icon.className=d.k.asClassName(e.group.icon),e.group.icon.color&&(i.icon.style.color=(0,m.n_1)(e.group.icon.color.id))):(i.icon.className=d.k.asClassName(u.l.lightBulb),i.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!e.item||!e.label)return;i.text.textContent=M(e.label),e.keybinding?(i.keybinding.set(e.keybinding),n.$Z(i.keybinding.element)):n.Cp(i.keybinding.element);const l=null===(o=this._keybindingService.lookupKeybinding(_))||void 0===o?void 0:o.getLabel(),h=null===(c=this._keybindingService.lookupKeybinding(v))||void 0===c?void 0:c.getLabel();if(i.container.classList.toggle("option-disabled",e.disabled),e.disabled?i.container.title=e.label:l&&h?this._supportsPreview?i.container.title=(0,r.NC)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",l,h):i.container.title=(0,r.NC)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",l):i.container.title="",e.description){const t=new a.q(n.R3(i.container,n.$("span.label-description")));t.element.classList.add("action-list-description"),t.set(e.description)}}disposeTemplate(e){}};w=y([C(1,f.d)],w);class x extends UIEvent{constructor(){super("acceptSelectedAction")}}class k extends UIEvent{constructor(){super("previewSelectedAction")}}let S=class extends o.JT{constructor(e,t,i,n,s,o){super(),this._delegate=n,this._contextViewService=s,this._keybindingService=o,this._actionLineHeight=24,this._headerLineHeight=26,this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const a={getHeight:e=>"header"===e.kind?this._headerLineHeight:this._actionLineHeight,getTemplateId:e=>e.kind};this._list=this._register(new l.aV(e,this.domNode,a,[new w(t,this._keybindingService),new b],{keyboardSupport:!1,accessibilityProvider:{getAriaLabel:e=>{if("action"===e.kind){let t=e.label?M(null===e||void 0===e?void 0:e.label):"";return e.disabled&&(t=(0,r.NC)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",t,e.disabled)),t}return null},getWidgetAriaLabel:()=>(0,r.NC)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:e=>"action"===e.kind?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(p.O2),this._register(this._list.onMouseClick((e=>this.onListClick(e)))),this._register(this._list.onMouseOver((e=>this.onListHover(e)))),this._register(this._list.onDidChangeFocus((()=>this._list.domFocus()))),this._register(this._list.onDidChangeSelection((e=>this.onListSelection(e)))),this._allMenuItems=i,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(e){return!e.disabled&&"action"===e.kind}hide(e){this._delegate.onHide(e),this._contextViewService.hideContextView()}layout(e){const t=this._allMenuItems.filter((e=>"header"===e.kind)).length,i=this._allMenuItems.length*this._actionLineHeight,n=i+t*this._headerLineHeight-t*this._actionLineHeight;this._list.layout(n);const s=this._allMenuItems.map(((e,t)=>{const i=document.getElementById(this._list.getElementID(t));if(i){i.style.width="auto";const e=i.getBoundingClientRect().width;return i.style.width="",e}return 0})),o=Math.max(...s,e),r=.7,a=Math.min(n,document.body.clientHeight*r);return this._list.layout(a,o),this.domNode.style.height=`${a}px`,this._list.domFocus(),o}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(e){const t=this._list.getFocus();if(0===t.length)return;const i=t[0],n=this._list.element(i);if(!this.focusCondition(n))return;const s=e?new k:new x;this._list.setSelection([i],s)}onListSelection(e){if(!e.elements.length)return;const t=e.elements[0];t.item&&this.focusCondition(t)?this._delegate.onSelect(t.item,e.browserEvent instanceof k):this._list.setSelection([])}onListHover(e){this._list.setFocus("number"===typeof e.index?[e.index]:[])}onListClick(e){e.element&&this.focusCondition(e.element)&&this._list.setFocus([])}};function M(e){return e.replace(/\r\n|\r|\n/g," ")}S=y([C(4,g.u),C(5,f.d)],S);var I=i(82693),D=i(66538),T=i(39326),A=i(21881),N=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},E=function(e,t){return function(i,n){t(i,n,e)}};const K={Visible:new D.uy("codeActionMenuVisible",!1,(0,r.NC)("codeActionMenuVisible","Whether the action widget list is visible"))},O=(0,A.yh)("actionWidgetService");let R=class extends o.JT{get isVisible(){return K.Visible.getValue(this._contextKeyService)||!1}constructor(e,t,i){super(),this._contextViewService=e,this._contextKeyService=t,this._instantiationService=i,this._list=this._register(new o.XK)}show(e,t,i,n,s,o,r){const a=K.Visible.bindTo(this._contextKeyService),c=this._instantiationService.createInstance(S,e,t,i,n);this._contextViewService.showContextView({getAnchor:()=>s,render:e=>(a.set(!0),this._renderWidget(e,c,null!==r&&void 0!==r?r:[])),onHide:e=>{a.reset(),this._onWidgetClosed(e)}},o,!1)}acceptSelected(e){var t;null===(t=this._list.value)||void 0===t||t.acceptSelected(e)}focusPrevious(){var e,t;null===(t=null===(e=this._list)||void 0===e?void 0:e.value)||void 0===t||t.focusPrevious()}focusNext(){var e,t;null===(t=null===(e=this._list)||void 0===e?void 0:e.value)||void 0===t||t.focusNext()}hide(){var e;null===(e=this._list.value)||void 0===e||e.hide(),this._list.clear()}_renderWidget(e,t,i){var s;const r=document.createElement("div");if(r.classList.add("action-widget"),e.appendChild(r),this._list.value=t,!this._list.value)throw new Error("List has no value");r.appendChild(this._list.value.domNode);const a=new o.SL,c=document.createElement("div"),l=e.appendChild(c);l.classList.add("context-view-block"),a.add(n.nm(l,n.tw.MOUSE_DOWN,(e=>e.stopPropagation())));const u=document.createElement("div"),d=e.appendChild(u);d.classList.add("context-view-pointerBlock"),a.add(n.nm(d,n.tw.POINTER_MOVE,(()=>d.remove()))),a.add(n.nm(d,n.tw.MOUSE_DOWN,(()=>d.remove())));let h=0;if(i.length){const e=this._createActionBar(".action-widget-action-bar",i);e&&(r.appendChild(e.getContainer().parentElement),a.add(e),h=e.getContainer().offsetWidth)}const g=null===(s=this._list.value)||void 0===s?void 0:s.layout(h);r.style.width=`${g}px`;const f=a.add(n.go(e));return a.add(f.onDidBlur((()=>this.hide()))),a}_createActionBar(e,t){if(!t.length)return;const i=n.$(e),o=new s.o(i);return o.push(t,{icon:!1,label:!0}),o}_onWidgetClosed(e){var t;null===(t=this._list.value)||void 0===t||t.hide(e)}};R=N([E(0,g.u),E(1,D.i6),E(2,A.TG)],R),(0,T.z)(O,R,1);const P=1100;(0,I.r1)(class extends I.Ke{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,r.NC)("hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:K.Visible,keybinding:{weight:P,primary:9,secondary:[1033]}})}run(e){e.get(O).hide()}}),(0,I.r1)(class extends I.Ke{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,r.NC)("selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:K.Visible,keybinding:{weight:P,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(e){const t=e.get(O);t instanceof R&&t.focusPrevious()}}),(0,I.r1)(class extends I.Ke{constructor(){super({id:"selectNextCodeAction",title:{value:(0,r.NC)("selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:K.Visible,keybinding:{weight:P,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(e){const t=e.get(O);t instanceof R&&t.focusNext()}}),(0,I.r1)(class extends I.Ke{constructor(){super({id:_,title:{value:(0,r.NC)("acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:K.Visible,keybinding:{weight:P,primary:3,secondary:[2132]}})}run(e){const t=e.get(O);t instanceof R&&t.acceptSelected()}}),(0,I.r1)(class extends I.Ke{constructor(){super({id:v,title:{value:(0,r.NC)("previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:K.Visible,keybinding:{weight:P,primary:2051}})}run(e){const t=e.get(O);t instanceof R&&t.acceptSelected(!0)}})},94700:(e,t,i)=>{i.d(t,{Mm:()=>E,Id:()=>P,vr:()=>A,LJ:()=>T});var n=i(2548),s=i(45429),o=i(32487),r=i(29031),a=i(10205),c=i(9501),l=i(70959),u=i(47606),d=i(25206),h=i(82693);function g(e){return!!e&&void 0!==e.condition}var f=i(66538),p=i(93753),m=i(21881),y=i(15285),C=i(18736),_=i(51906),v=i(32656),b=i(99588),w=i(71976),x=i(55455),k=i(47277),S=i(22454),M=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},I=function(e,t){return function(i,n){t(i,n,e)}},D=function(e,t,i,n){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function r(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n["throw"](e))}catch(t){o(t)}}function c(e){e.done?i(e.value):s(e.value).then(r,a)}c((n=n.apply(e,t||[])).next())}))};function T(e,t,i,s){const o=e.getActions(t),r=n._q.getInstance(),a=r.keyStatus.altKey||(u.ED||u.IJ)&&r.keyStatus.shiftKey;N(o,i,a,s?e=>e===s:e=>"navigation"===e)}function A(e,t,i,n,s,o){const r=e.getActions(t),a="string"===typeof n?e=>e===n:n;N(r,i,!1,a,s,o)}function N(e,t,i,n=(e=>"navigation"===e),s=(()=>!1),o=!1){let r,c;Array.isArray(t)?(r=t,c=t):(r=t.primary,c=t.secondary);const l=new Set;for(const[u,d]of e){let e;n(u)?(e=r,e.length>0&&o&&e.push(new a.Z0)):(e=c,e.length>0&&e.push(new a.Z0));for(let t of d){i&&(t=t instanceof h.U8&&t.alt?t.alt:t);const n=e.push(t);t instanceof a.wY&&l.add({group:u,action:t,index:n-1})}}for(const{group:a,action:u,index:d}of l){const e=n(a)?r:c,t=u.actions;t.length<=1&&s(u,a,e.length)&&e.splice(d,1,...t)}}let E=class extends o.gU{constructor(e,t,i,s,o,r,a){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null===t||void 0===t?void 0:t.draggable,keybinding:null===t||void 0===t?void 0:t.keybinding,hoverDelegate:null===t||void 0===t?void 0:t.hoverDelegate}),this._keybindingService=i,this._notificationService=s,this._contextKeyService=o,this._themeService=r,this._contextMenuService=a,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new l.XK),this._altKey=n._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return D(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}}))}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,i=this._altKey.keyStatus.altKey||(u.ED||u.IJ)&&this._altKey.keyStatus.shiftKey;const s=()=>{var e;const n=t&&i&&!!(null===(e=this._commandAction.alt)||void 0===e?void 0:e.enabled);n!==this._wantsAltCommand&&(this._wantsAltCommand=n,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event((e=>{i=e.altKey||(u.ED||u.IJ)&&e.shiftKey,s()}))),this._register((0,n.nm)(e,"mouseleave",(e=>{t=!1,s()}))),this._register((0,n.nm)(e,"mouseenter",(e=>{t=!0,s()})))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var e;const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),i=t&&t.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let s=i?(0,d.NC)("titleAndKb","{0} ({1})",n,i):n;if(!this._wantsAltCommand&&(null===(e=this._menuItemAction.alt)||void 0===e?void 0:e.enabled)){const e=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,t=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),i=t&&t.getLabel(),n=i?(0,d.NC)("titleAndKb","{0} ({1})",e,i):e;s=(0,d.NC)("titleAndKbAndAlt","{0}\n[{1}] {2}",s,c.xo.modifierLabels[u.OS].altKey,n)}return s}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){this._itemClassDispose.value=void 0;const{element:t,label:i}=this;if(!t||!i)return;const s=this._commandAction.checked&&g(e.toggled)&&e.toggled.icon?e.toggled.icon:e.icon;if(s)if(b.k.isThemeIcon(s)){const e=b.k.asClassNameArray(s);i.classList.add(...e),this._itemClassDispose.value=(0,l.OF)((()=>{i.classList.remove(...e)}))}else i.style.backgroundImage=(0,w._T)(this._themeService.getColorTheme().type)?(0,n.wY)(s.dark):(0,n.wY)(s.light),i.classList.add("icon"),this._itemClassDispose.value=(0,l.F8)((0,l.OF)((()=>{i.style.backgroundImage="",i.classList.remove("icon")})),this._themeService.onDidColorThemeChange((()=>{this.updateClass()})))}};E=M([I(2,y.d),I(3,C.lT),I(4,f.i6),I(5,v.XE),I(6,p.i)],E);let K=class extends r.C{constructor(e,t,i,n){var s,o;const r=Object.assign({},null!==t&&void 0!==t?t:Object.create(null),{menuAsChild:null!==(s=null===t||void 0===t?void 0:t.menuAsChild)&&void 0!==s&&s,classNames:null!==(o=null===t||void 0===t?void 0:t.classNames)&&void 0!==o?o:b.k.isThemeIcon(e.item.icon)?b.k.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},i,r),this._contextMenuService=i,this._themeService=n}render(e){super.render(e),(0,x.p_)(this.element),e.classList.add("menu-entry");const t=this._action,{icon:i}=t.item;if(i&&!b.k.isThemeIcon(i)){this.element.classList.add("icon");const e=()=>{this.element&&(this.element.style.backgroundImage=(0,w._T)(this._themeService.getColorTheme().type)?(0,n.wY)(i.dark):(0,n.wY)(i.light))};e(),this._register(this._themeService.onDidColorThemeChange((()=>{e()})))}}};K=M([I(2,p.i),I(3,v.XE)],K);let O=class extends o.YH{constructor(e,t,i,n,s,o,c,l){var u,d,g;let f;super(null,e),this._keybindingService=i,this._notificationService=n,this._contextMenuService=s,this._menuService=o,this._instaService=c,this._storageService=l,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;const p=l.get(this._storageKey,1);p&&(f=e.actions.find((e=>p===e.id))),f||(f=e.actions[0]),this._defaultAction=this._instaService.createInstance(E,f,{keybinding:this._getDefaultActionKeybindingLabel(f)});const m=Object.assign({},null!==t&&void 0!==t?t:Object.create(null),{menuAsChild:null===(u=null===t||void 0===t?void 0:t.menuAsChild)||void 0===u||u,classNames:null!==(d=null===t||void 0===t?void 0:t.classNames)&&void 0!==d?d:["codicon","codicon-chevron-down"],actionRunner:null!==(g=null===t||void 0===t?void 0:t.actionRunner)&&void 0!==g?g:new a.Wi});this._dropdown=new r.C(e,e.actions,this._contextMenuService,m),this._dropdown.actionRunner.onDidRun((e=>{e.action instanceof h.U8&&this.update(e.action)}))}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(E,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends a.Wi{runAction(e,t){return D(this,void 0,void 0,(function*(){yield e.run(void 0)}))}},this._container&&this._defaultAction.render((0,n.Ce)(this._container,(0,n.$)(".action-container")))}_getDefaultActionKeybindingLabel(e){var t;let i;if(null===(t=this._options)||void 0===t?void 0:t.renderKeybindingWithDefaultActionLabel){const t=this._keybindingService.lookupKeybinding(e.id);t&&(i=`(${t.getLabel()})`)}return i}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=(0,n.$)(".action-container");this._defaultAction.render((0,n.R3)(this._container,t)),this._register((0,n.nm)(t,n.tw.KEY_DOWN,(e=>{const t=new s.y(e);t.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),t.stopPropagation())})));const i=(0,n.$)(".dropdown-action-container");this._dropdown.render((0,n.R3)(this._container,i)),this._register((0,n.nm)(i,n.tw.KEY_DOWN,(e=>{var t;const i=new s.y(e);i.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(t=this._defaultAction.element)||void 0===t||t.focus(),i.stopPropagation())})))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};O=M([I(2,y.d),I(3,C.lT),I(4,p.i),I(5,h.co),I(6,m.TG),I(7,_.Uy)],O);let R=class extends o.Lc{constructor(e,t){super(null,e,e.actions.map((e=>({text:e.id===a.Z0.ID?"─────────":e.label,isDisabled:!e.enabled}))),0,t,S.BM,{ariaLabel:e.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,e.actions.findIndex((e=>e.checked))))}render(e){super.render(e),e.style.borderColor=(0,k.n_1)(k.a9O)}runAction(e,t){const i=this.action.actions[t];i&&this.actionRunner.run(i)}};function P(e,t,i){return t instanceof h.U8?e.createInstance(E,t,i):t instanceof h.NZ?t.item.isSelection?e.createInstance(R,t):t.item.rememberDefaultAction?e.createInstance(O,t,i):e.createInstance(K,t,i):void 0}R=M([I(1,p.u)],R)},40251:(e,t,i)=>{i.d(t,{T:()=>m});var n=i(2548),s=i(22513),o=i(10205),r=i(21921),a=i(70959),c=i(25206),l=i(82693),u=i(66538),d=i(93753),h=i(15285),g=i(38857),f=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},p=function(e,t){return function(i,n){t(i,n,e)}};let m=class extends s.u{constructor(e,t,i,n,s,o,r){super(e,s,Object.assign(Object.assign({getKeyBinding:e=>{var t;return null!==(t=o.lookupKeybinding(e.id))&&void 0!==t?t:void 0}},t),{allowContextMenu:!0})),this._options=t,this._menuService=i,this._contextKeyService=n,this._contextMenuService=s,this._sessionDisposables=this._store.add(new a.SL),(null===t||void 0===t?void 0:t.telemetrySource)&&this._store.add(this.actionBar.onDidRun((e=>r.publicLog2("workbenchActionExecuted",{id:e.action.id,from:t.telemetrySource}))))}setActions(e,t=[],i){var s,a,u;this._sessionDisposables.clear();const d=e.slice(),h=t.slice(),g=[];let f=0;const p=[];let m=!1;if(-1!==(null===(s=this._options)||void 0===s?void 0:s.hiddenItemStrategy))for(let n=0;n<d.length;n++){const e=d[n];(e instanceof l.U8||e instanceof l.NZ)&&(e.hideActions&&(g.push(e.hideActions.toggle),e.hideActions.toggle.checked&&f++,e.hideActions.isHidden&&(m=!0,d[n]=void 0,0!==(null===(a=this._options)||void 0===a?void 0:a.hiddenItemStrategy)&&(p[n]=e))))}if(void 0!==(null===(u=this._options)||void 0===u?void 0:u.maxNumberOfItems)){let e=0;for(let t=0;t<d.length;t++){const i=d[t];i&&(++e>=this._options.maxNumberOfItems&&(d[t]=void 0,p[t]=i))}}(0,r.Rs)(d),(0,r.Rs)(p),super.setActions(d,o.Z0.join(p,h)),g.length>0&&this._sessionDisposables.add((0,n.nm)(this.getElement(),"contextmenu",(e=>{var t,n,s,r;const a=this.getItemAction(e.target);if(!a)return;e.preventDefault(),e.stopPropagation();let u,d=!1;if(1===f&&0===(null===(t=this._options)||void 0===t?void 0:t.hiddenItemStrategy)){d=!0;for(let e=0;e<g.length;e++)if(g[e].checked){g[e]=(0,o.xw)({id:a.id,label:a.label,checked:!0,enabled:!1,run(){}});break}}if(!d&&(a instanceof l.U8||a instanceof l.NZ)){if(!a.hideActions)return;u=a.hideActions.hide}else u=(0,o.xw)({id:"label",label:(0,c.NC)("hide","Hide"),enabled:!1,run(){}});const h=o.Z0.join([u],g);(null===(n=this._options)||void 0===n?void 0:n.resetMenu)&&!i&&(i=[this._options.resetMenu]),m&&i&&(h.push(new o.Z0),h.push((0,o.xw)({id:"resetThisMenu",label:(0,c.NC)("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(i)}))),this._contextMenuService.showContextMenu({getAnchor:()=>e,getActions:()=>h,menuId:null===(s=this._options)||void 0===s?void 0:s.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},null===(r=this._options)||void 0===r?void 0:r.menuOptions),contextKeyService:this._contextKeyService})})))}};m=f([p(2,l.co),p(3,u.i6),p(4,d.i),p(5,h.d),p(6,g.b)],m)},82693:(e,t,i)=>{i.d(t,{BH:()=>v,Ke:()=>x,NZ:()=>b,U8:()=>w,co:()=>C,eH:()=>y,f6:()=>m,r1:()=>k,vr:()=>p});var n=i(10205),s=i(99588),o=i(11271),r=i(70959),a=i(33010),c=i(46871),l=i(66538),u=i(21881),d=i(37395),h=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},g=function(e,t){return function(i,n){t(i,n,e)}},f=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};function p(e){return void 0!==e.command}function m(e){return void 0!==e.submenu}class y{constructor(e){if(y._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);y._instances.set(e,this),this.id=e}}y._instances=new Map,y.CommandPalette=new y("CommandPalette"),y.DebugBreakpointsContext=new y("DebugBreakpointsContext"),y.DebugCallStackContext=new y("DebugCallStackContext"),y.DebugConsoleContext=new y("DebugConsoleContext"),y.DebugVariablesContext=new y("DebugVariablesContext"),y.DebugWatchContext=new y("DebugWatchContext"),y.DebugToolBar=new y("DebugToolBar"),y.DebugToolBarStop=new y("DebugToolBarStop"),y.EditorContext=new y("EditorContext"),y.SimpleEditorContext=new y("SimpleEditorContext"),y.EditorContent=new y("EditorContent"),y.EditorContextCopy=new y("EditorContextCopy"),y.EditorContextPeek=new y("EditorContextPeek"),y.EditorContextShare=new y("EditorContextShare"),y.EditorTitle=new y("EditorTitle"),y.EditorTitleRun=new y("EditorTitleRun"),y.EditorTitleContext=new y("EditorTitleContext"),y.EmptyEditorGroup=new y("EmptyEditorGroup"),y.EmptyEditorGroupContext=new y("EmptyEditorGroupContext"),y.ExplorerContext=new y("ExplorerContext"),y.ExtensionContext=new y("ExtensionContext"),y.GlobalActivity=new y("GlobalActivity"),y.CommandCenter=new y("CommandCenter"),y.LayoutControlMenuSubmenu=new y("LayoutControlMenuSubmenu"),y.LayoutControlMenu=new y("LayoutControlMenu"),y.MenubarMainMenu=new y("MenubarMainMenu"),y.MenubarAppearanceMenu=new y("MenubarAppearanceMenu"),y.MenubarDebugMenu=new y("MenubarDebugMenu"),y.MenubarEditMenu=new y("MenubarEditMenu"),y.MenubarCopy=new y("MenubarCopy"),y.MenubarFileMenu=new y("MenubarFileMenu"),y.MenubarGoMenu=new y("MenubarGoMenu"),y.MenubarHelpMenu=new y("MenubarHelpMenu"),y.MenubarLayoutMenu=new y("MenubarLayoutMenu"),y.MenubarNewBreakpointMenu=new y("MenubarNewBreakpointMenu"),y.PanelAlignmentMenu=new y("PanelAlignmentMenu"),y.PanelPositionMenu=new y("PanelPositionMenu"),y.MenubarPreferencesMenu=new y("MenubarPreferencesMenu"),y.MenubarRecentMenu=new y("MenubarRecentMenu"),y.MenubarSelectionMenu=new y("MenubarSelectionMenu"),y.MenubarShare=new y("MenubarShare"),y.MenubarSwitchEditorMenu=new y("MenubarSwitchEditorMenu"),y.MenubarSwitchGroupMenu=new y("MenubarSwitchGroupMenu"),y.MenubarTerminalMenu=new y("MenubarTerminalMenu"),y.MenubarViewMenu=new y("MenubarViewMenu"),y.MenubarHomeMenu=new y("MenubarHomeMenu"),y.OpenEditorsContext=new y("OpenEditorsContext"),y.ProblemsPanelContext=new y("ProblemsPanelContext"),y.SCMChangeContext=new y("SCMChangeContext"),y.SCMResourceContext=new y("SCMResourceContext"),y.SCMResourceFolderContext=new y("SCMResourceFolderContext"),y.SCMResourceGroupContext=new y("SCMResourceGroupContext"),y.SCMSourceControl=new y("SCMSourceControl"),y.SCMTitle=new y("SCMTitle"),y.SearchContext=new y("SearchContext"),y.SearchActionMenu=new y("SearchActionContext"),y.StatusBarWindowIndicatorMenu=new y("StatusBarWindowIndicatorMenu"),y.StatusBarRemoteIndicatorMenu=new y("StatusBarRemoteIndicatorMenu"),y.StickyScrollContext=new y("StickyScrollContext"),y.TestItem=new y("TestItem"),y.TestItemGutter=new y("TestItemGutter"),y.TestPeekElement=new y("TestPeekElement"),y.TestPeekTitle=new y("TestPeekTitle"),y.TouchBarContext=new y("TouchBarContext"),y.TitleBarContext=new y("TitleBarContext"),y.TitleBarTitleContext=new y("TitleBarTitleContext"),y.TunnelContext=new y("TunnelContext"),y.TunnelPrivacy=new y("TunnelPrivacy"),y.TunnelProtocol=new y("TunnelProtocol"),y.TunnelPortInline=new y("TunnelInline"),y.TunnelTitle=new y("TunnelTitle"),y.TunnelLocalAddressInline=new y("TunnelLocalAddressInline"),y.TunnelOriginInline=new y("TunnelOriginInline"),y.ViewItemContext=new y("ViewItemContext"),y.ViewContainerTitle=new y("ViewContainerTitle"),y.ViewContainerTitleContext=new y("ViewContainerTitleContext"),y.ViewTitle=new y("ViewTitle"),y.ViewTitleContext=new y("ViewTitleContext"),y.CommentEditorActions=new y("CommentEditorActions"),y.CommentThreadTitle=new y("CommentThreadTitle"),y.CommentThreadActions=new y("CommentThreadActions"),y.CommentThreadAdditionalActions=new y("CommentThreadAdditionalActions"),y.CommentThreadTitleContext=new y("CommentThreadTitleContext"),y.CommentThreadCommentContext=new y("CommentThreadCommentContext"),y.CommentTitle=new y("CommentTitle"),y.CommentActions=new y("CommentActions"),y.InteractiveToolbar=new y("InteractiveToolbar"),y.InteractiveCellTitle=new y("InteractiveCellTitle"),y.InteractiveCellDelete=new y("InteractiveCellDelete"),y.InteractiveCellExecute=new y("InteractiveCellExecute"),y.InteractiveInputExecute=new y("InteractiveInputExecute"),y.NotebookToolbar=new y("NotebookToolbar"),y.NotebookCellTitle=new y("NotebookCellTitle"),y.NotebookCellDelete=new y("NotebookCellDelete"),y.NotebookCellInsert=new y("NotebookCellInsert"),y.NotebookCellBetween=new y("NotebookCellBetween"),y.NotebookCellListTop=new y("NotebookCellTop"),y.NotebookCellExecute=new y("NotebookCellExecute"),y.NotebookCellExecutePrimary=new y("NotebookCellExecutePrimary"),y.NotebookDiffCellInputTitle=new y("NotebookDiffCellInputTitle"),y.NotebookDiffCellMetadataTitle=new y("NotebookDiffCellMetadataTitle"),y.NotebookDiffCellOutputsTitle=new y("NotebookDiffCellOutputsTitle"),y.NotebookOutputToolbar=new y("NotebookOutputToolbar"),y.NotebookEditorLayoutConfigure=new y("NotebookEditorLayoutConfigure"),y.NotebookKernelSource=new y("NotebookKernelSource"),y.BulkEditTitle=new y("BulkEditTitle"),y.BulkEditContext=new y("BulkEditContext"),y.TimelineItemContext=new y("TimelineItemContext"),y.TimelineTitle=new y("TimelineTitle"),y.TimelineTitleContext=new y("TimelineTitleContext"),y.TimelineFilterSubMenu=new y("TimelineFilterSubMenu"),y.AccountsContext=new y("AccountsContext"),y.PanelTitle=new y("PanelTitle"),y.AuxiliaryBarTitle=new y("AuxiliaryBarTitle"),y.TerminalInstanceContext=new y("TerminalInstanceContext"),y.TerminalEditorInstanceContext=new y("TerminalEditorInstanceContext"),y.TerminalNewDropdownContext=new y("TerminalNewDropdownContext"),y.TerminalTabContext=new y("TerminalTabContext"),y.TerminalTabEmptyAreaContext=new y("TerminalTabEmptyAreaContext"),y.TerminalInlineTabContext=new y("TerminalInlineTabContext"),y.WebviewContext=new y("WebviewContext"),y.InlineCompletionsActions=new y("InlineCompletionsActions"),y.NewFile=new y("NewFile"),y.MergeInput1Toolbar=new y("MergeToolbar1Toolbar"),y.MergeInput2Toolbar=new y("MergeToolbar2Toolbar"),y.MergeBaseToolbar=new y("MergeBaseToolbar"),y.MergeInputResultToolbar=new y("MergeToolbarResultToolbar"),y.InlineSuggestionToolbar=new y("InlineSuggestionToolbar");const C=(0,u.yh)("menuService");class _{static for(e){let t=this._all.get(e);return t||(t=new _(e),this._all.set(e,t)),t}static merge(e){const t=new Set;for(const i of e)i instanceof _&&t.add(i.id);return t}constructor(e){this.id=e,this.has=t=>t===e}}_._all=new Map;const v=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new o.SZ({merge:_.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(e){return this._commands.set(e.id,e),this._onDidChangeMenu.fire(_.for(y.CommandPalette)),(0,r.OF)((()=>{this._commands.delete(e.id)&&this._onDidChangeMenu.fire(_.for(y.CommandPalette))}))}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach(((t,i)=>e.set(i,t))),e}appendMenuItem(e,t){let i=this._menuItems.get(e);i||(i=new a.S,this._menuItems.set(e,i));const n=i.push(t);return this._onDidChangeMenu.fire(_.for(e)),(0,r.OF)(n)}appendMenuItems(e){const t=new r.SL;for(const{id:i,item:n}of e)t.add(this.appendMenuItem(i,n));return t}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===y.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const i of e)p(i)&&(t.add(i.command.id),i.alt&&t.add(i.alt.id));this._commands.forEach(((i,n)=>{t.has(n)||e.push({command:i})}))}};class b extends n.wY{constructor(e,t,i){super(`submenuitem.${e.submenu.id}`,"string"===typeof e.title?e.title:e.title.value,i,"submenu"),this.item=e,this.hideActions=t}}let w=class e{static label(e,t){return(null===t||void 0===t?void 0:t.renderShortTitle)&&e.shortTitle?"string"===typeof e.shortTitle?e.shortTitle:e.shortTitle.value:"string"===typeof e.title?e.title:e.title.value}constructor(t,i,n,o,r,a){var c,l;if(this.hideActions=o,this._commandService=a,this.id=t.id,this.label=e.label(t,n),this.tooltip=null!==(l="string"===typeof t.tooltip?t.tooltip:null===(c=t.tooltip)||void 0===c?void 0:c.value)&&void 0!==l?l:"",this.enabled=!t.precondition||r.contextMatchesRules(t.precondition),this.checked=void 0,t.toggled){const e=t.toggled.condition?t.toggled:{condition:t.toggled};this.checked=r.contextMatchesRules(e.condition),this.checked&&e.tooltip&&(this.tooltip="string"===typeof e.tooltip?e.tooltip:e.tooltip.value),e.title&&(this.label="string"===typeof e.title?e.title:e.title.value)}this.item=t,this.alt=i?new e(i,void 0,n,o,r,a):void 0,this._options=n,s.k.isThemeIcon(t.icon)&&(this.class=s.k.asClassName(t.icon))}run(...e){var t,i;let n=[];return(null===(t=this._options)||void 0===t?void 0:t.arg)&&(n=[...n,this._options.arg]),(null===(i=this._options)||void 0===i?void 0:i.shouldForwardArgs)&&(n=[...n,...e]),this._commandService.executeCommand(this.id,...n)}};w=h([g(4,l.i6),g(5,c.H)],w);class x{constructor(e){this.desc=e}}function k(e){const t=new r.SL,i=new e,n=i.desc,{f1:s,menu:o,keybinding:a,description:u}=n,h=f(n,["f1","menu","keybinding","description"]);if(t.add(c.P.registerCommand({id:h.id,handler:(e,...t)=>i.run(e,...t),description:u})),Array.isArray(o))for(const r of o)t.add(v.appendMenuItem(r.id,Object.assign({command:Object.assign(Object.assign({},h),{precondition:null===r.precondition?void 0:h.precondition})},r)));else o&&t.add(v.appendMenuItem(o.id,Object.assign({command:Object.assign(Object.assign({},h),{precondition:null===o.precondition?void 0:h.precondition})},o)));if(s&&(t.add(v.appendMenuItem(y.CommandPalette,{command:h,when:h.precondition})),t.add(v.addCommand(h))),Array.isArray(a))for(const r of a)t.add(d.W.registerKeybindingRule(Object.assign(Object.assign({},r),{id:h.id,when:h.precondition?l.Ao.and(h.precondition,r.when):r.when})));else a&&t.add(d.W.registerKeybindingRule(Object.assign(Object.assign({},a),{id:h.id,when:h.precondition?l.Ao.and(h.precondition,a.when):a.when})));return t}},330:(e,t,i)=>{i.d(t,{h:()=>p});var n=i(85398),s=i(11271),o=i(70959),r=i(82693),a=i(46871),c=i(66538),l=i(10205),u=i(51906),d=i(21921),h=i(25206),g=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},f=function(e,t){return function(i,n){t(i,n,e)}};let p=class{constructor(e,t){this._commandService=e,this._hiddenStates=new m(t)}createMenu(e,t,i){return new C(e,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},i),this._commandService,t)}resetHiddenStates(e){this._hiddenStates.reset(e)}};p=g([f(0,a.H),f(1,u.Uy)],p);let m=class e{constructor(t){this._storageService=t,this._disposables=new o.SL,this._onDidChange=new s.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const i=t.get(e._key,0,"{}");this._data=JSON.parse(i)}catch(i){this._data=Object.create(null)}this._disposables.add(t.onDidChangeValue((n=>{if(n.key===e._key){if(!this._ignoreChangeEvent)try{const i=t.get(e._key,0,"{}");this._data=JSON.parse(i)}catch(i){console.log("FAILED to read storage after UPDATE",i)}this._onDidChange.fire()}})))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(e,t){var i;return null!==(i=this._hiddenByDefaultCache.get(`${e.id}/${t}`))&&void 0!==i&&i}setDefaultState(e,t,i){this._hiddenByDefaultCache.set(`${e.id}/${t}`,i)}isHidden(e,t){var i,n;const s=this._isHiddenByDefault(e,t),o=null!==(n=null===(i=this._data[e.id])||void 0===i?void 0:i.includes(t))&&void 0!==n&&n;return s?!o:o}updateHidden(e,t,i){const n=this._isHiddenByDefault(e,t);n&&(i=!i);const s=this._data[e.id];if(i)if(s){const e=s.indexOf(t);e<0&&s.push(t)}else this._data[e.id]=[t];else if(s){const i=s.indexOf(t);i>=0&&(0,d.LS)(s,i),0===s.length&&delete this._data[e.id]}this._persist()}reset(e){if(void 0===e)this._data=Object.create(null),this._persist();else{for(const{id:t}of e)this._data[t]&&delete this._data[t];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const t=JSON.stringify(this._data);this._storageService.store(e._key,t,0,0)}finally{this._ignoreChangeEvent=!1}}};m._key="menu.hiddenCommands",m=g([f(0,u.Uy)],m);let y=class e{constructor(e,t,i,n,s){this._id=e,this._hiddenStates=t,this._collectContextKeysForSubmenus=i,this._commandService=n,this._contextKeyService=s,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const t=r.BH.getMenuItems(this._id);let i;t.sort(e._compareMenuItems);for(const e of t){const t=e.group||"";i&&i[0]===t||(i=[t,[]],this._menuGroups.push(i)),i[1].push(e),this._collectContextKeys(e)}}_collectContextKeys(t){if(e._fillInKbExprKeys(t.when,this._structureContextKeys),(0,r.vr)(t)){if(t.command.precondition&&e._fillInKbExprKeys(t.command.precondition,this._preconditionContextKeys),t.command.toggled){const i=t.command.toggled.condition||t.command.toggled;e._fillInKbExprKeys(i,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&r.BH.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}createActionGroups(t){const i=[];for(const n of this._menuGroups){const[s,o]=n,a=[];for(const i of o)if(this._contextKeyService.contextMatchesRules(i.when)){const n=(0,r.vr)(i);n&&this._hiddenStates.setDefaultState(this._id,i.command.id,!!i.isHiddenByDefault);const s=_(this._id,n?i.command:i,this._hiddenStates);if(n)a.push(new r.U8(i.command,i.alt,t,s,this._contextKeyService,this._commandService));else{const n=new e(i.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(t),o=l.Z0.join(...n.map((e=>e[1])));o.length>0&&a.push(new r.NZ(i,s,o))}}a.length>0&&i.push([s,a])}return i}static _fillInKbExprKeys(e,t){if(e)for(const i of e.keys())t.add(i)}static _compareMenuItems(t,i){const n=t.group,s=i.group;if(n!==s){if(!n)return 1;if(!s)return-1;if("navigation"===n)return-1;if("navigation"===s)return 1;const e=n.localeCompare(s);if(0!==e)return e}const o=t.order||0,a=i.order||0;return o<a?-1:o>a?1:e._compareTitles((0,r.vr)(t)?t.command.title:t.title,(0,r.vr)(i)?i.command.title:i.title)}static _compareTitles(e,t){const i="string"===typeof e?e:e.original,n="string"===typeof t?t:t.original;return i.localeCompare(n)}};y=g([f(3,a.H),f(4,c.i6)],y);let C=class{constructor(e,t,i,a,c){this._disposables=new o.SL,this._menuInfo=new y(e,t,i.emitEventsForSubmenuChanges,a,c);const l=new n.pY((()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})}),i.eventDebounceDelay);this._disposables.add(l),this._disposables.add(r.BH.onDidChangeMenu((t=>{t.has(e)&&l.schedule()})));const u=this._disposables.add(new o.SL),d=e=>{let t=!1,i=!1,n=!1;for(const s of e)if(t=t||s.isStructuralChange,i=i||s.isEnablementChange,n=n||s.isToggleChange,t&&i&&n)break;return{menu:this,isStructuralChange:t,isEnablementChange:i,isToggleChange:n}},h=()=>{u.add(c.onDidChangeContext((e=>{const t=e.affectsSome(this._menuInfo.structureContextKeys),i=e.affectsSome(this._menuInfo.preconditionContextKeys),n=e.affectsSome(this._menuInfo.toggledContextKeys);(t||i||n)&&this._onDidChange.fire({menu:this,isStructuralChange:t,isEnablementChange:i,isToggleChange:n})}))),u.add(t.onDidChange((e=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})})))};this._onDidChange=new s.D0({onWillAddFirstListener:h,onDidRemoveLastListener:u.clear.bind(u),delay:i.eventDebounceDelay,merge:d}),this.onDidChange=this._onDidChange.event}getActions(e){return this._menuInfo.createActionGroups(e)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};function _(e,t,i){const n=(0,r.f6)(t)?t.submenu.id:t.id,s="string"===typeof t.title?t.title:t.title.value,o=(0,l.xw)({id:`hide/${e.id}/${n}`,label:(0,h.NC)("hide.label","Hide '{0}'",s),run(){i.updateHidden(e,n,!0)}}),a=(0,l.xw)({id:`toggle/${e.id}/${n}`,label:s,get checked(){return!i.isHidden(e,n)},run(){i.updateHidden(e,n,!!this.checked)}});return{hide:o,toggle:a,get isHidden(){return!a.checked}}}C=g([f(3,a.H),f(4,c.i6)],C)},70936:(e,t,i)=>{i.d(t,{e7:()=>o,y$:()=>a});var n=i(21881),s=i(25206);const o=(0,n.yh)("audioCue");class r{static register(e){const t=new r(e.fileName);return t}constructor(e){this.fileName=e}}r.error=r.register({fileName:"error.mp3"}),r.warning=r.register({fileName:"warning.mp3"}),r.foldedArea=r.register({fileName:"foldedAreas.mp3"}),r.break=r.register({fileName:"break.mp3"}),r.quickFixes=r.register({fileName:"quickFixes.mp3"}),r.taskCompleted=r.register({fileName:"taskCompleted.mp3"}),r.taskFailed=r.register({fileName:"taskFailed.mp3"}),r.terminalBell=r.register({fileName:"terminalBell.mp3"}),r.diffLineInserted=r.register({fileName:"diffLineInserted.mp3"}),r.diffLineDeleted=r.register({fileName:"diffLineDeleted.mp3"}),r.diffLineModified=r.register({fileName:"diffLineModified.mp3"});class a{static register(e){const t=new a(e.sound,e.name,e.settingsKey);return a._audioCues.add(t),t}constructor(e,t,i){this.sound=e,this.name=t,this.settingsKey=i}}a._audioCues=new Set,a.error=a.register({name:(0,s.NC)("audioCues.lineHasError.name","Error on Line"),sound:r.error,settingsKey:"audioCues.lineHasError"}),a.warning=a.register({name:(0,s.NC)("audioCues.lineHasWarning.name","Warning on Line"),sound:r.warning,settingsKey:"audioCues.lineHasWarning"}),a.foldedArea=a.register({name:(0,s.NC)("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:r.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),a.break=a.register({name:(0,s.NC)("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:r.break,settingsKey:"audioCues.lineHasBreakpoint"}),a.inlineSuggestion=a.register({name:(0,s.NC)("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:r.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),a.terminalQuickFix=a.register({name:(0,s.NC)("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:r.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),a.onDebugBreak=a.register({name:(0,s.NC)("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:r.break,settingsKey:"audioCues.onDebugBreak"}),a.noInlayHints=a.register({name:(0,s.NC)("audioCues.noInlayHints","No Inlay Hints on Line"),sound:r.error,settingsKey:"audioCues.noInlayHints"}),a.taskCompleted=a.register({name:(0,s.NC)("audioCues.taskCompleted","Task Completed"),sound:r.taskCompleted,settingsKey:"audioCues.taskCompleted"}),a.taskFailed=a.register({name:(0,s.NC)("audioCues.taskFailed","Task Failed"),sound:r.taskFailed,settingsKey:"audioCues.taskFailed"}),a.terminalCommandFailed=a.register({name:(0,s.NC)("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:r.taskFailed,settingsKey:"audioCues.terminalCommandFailed"}),a.terminalBell=a.register({name:(0,s.NC)("audioCues.terminalBell","Terminal Bell"),sound:r.terminalBell,settingsKey:"audioCues.terminalBell"}),a.notebookCellCompleted=a.register({name:(0,s.NC)("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:r.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),a.notebookCellFailed=a.register({name:(0,s.NC)("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:r.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),a.diffLineInserted=a.register({name:(0,s.NC)("audioCues.diffLineInserted","Diff Line Inserted"),sound:r.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),a.diffLineDeleted=a.register({name:(0,s.NC)("audioCues.diffLineDeleted","Diff Line Deleted"),sound:r.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),a.diffLineModified=a.register({name:(0,s.NC)("audioCues.diffLineModified","Diff Line Modified"),sound:r.diffLineModified,settingsKey:"audioCues.diffLineModified"})},8930:(e,t,i)=>{i.d(t,{r:()=>h});var n=i(90882),s=i(2548),o=i(85398),r=i(70959),a=i(38079),c=i(23034),l=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},u=function(e,t){return function(i,n){t(i,n,e)}},d=function(e,t,i,n){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function r(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n["throw"](e))}catch(t){o(t)}}function c(e){e.done?i(e.value):s(e.value).then(r,a)}c((n=n.apply(e,t||[])).next())}))};let h=class extends r.JT{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],(n.isSafari||n.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const e=()=>{const e=new o.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=e,navigator.clipboard.write([new ClipboardItem({"text/plain":e.p})]).catch((t=>d(this,void 0,void 0,(function*(){t instanceof Error&&"NotAllowedError"===t.name&&e.isRejected||this.logService.error(t)}))))};this.layoutService.hasContainer&&(this._register((0,s.nm)(this.layoutService.container,"click",e)),this._register((0,s.nm)(this.layoutService.container,"keydown",e)))}writeText(e,t){return d(this,void 0,void 0,(function*(){if(t)return void this.mapTextToType.set(t,e);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return yield navigator.clipboard.writeText(e)}catch(o){console.error(o)}const i=document.activeElement,n=document.body.appendChild((0,s.$)("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)}))}readText(e){return d(this,void 0,void 0,(function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}}))}readFindText(){return d(this,void 0,void 0,(function*(){return this.findText}))}writeFindText(e){return d(this,void 0,void 0,(function*(){this.findText=e}))}readResources(){return d(this,void 0,void 0,(function*(){return this.resources}))}};h=l([u(0,a.F),u(1,c.VZ)],h)},2827:(e,t,i)=>{i.d(t,{p:()=>s});var n=i(21881);const s=(0,n.yh)("clipboardService")},46871:(e,t,i)=>{i.d(t,{H:()=>l,P:()=>u});var n=i(11271),s=i(39595),o=i(70959),r=i(33010),a=i(55455),c=i(21881);const l=(0,c.yh)("commandService"),u=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new n.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"===typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){const t=[];for(const n of e.description.args)t.push(n.constraint);const i=e.handler;e.handler=function(e,...n){return(0,a.D8)(n,t),i(e,...n)}}const{id:i}=e;let n=this._commands.get(i);n||(n=new r.S,this._commands.set(i,n));const s=n.unshift(e),c=(0,o.OF)((()=>{s();const e=this._commands.get(i);(null===e||void 0===e?void 0:e.isEmpty())&&this._commands.delete(i)}));return this._onDidRegisterCommand.fire(i),c}registerCommandAlias(e,t){return u.registerCommand(e,((e,...i)=>e.get(l).executeCommand(t,...i)))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return s.$.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const i=this.getCommand(t);i&&e.set(t,i)}return e}};u.registerCommand("noop",(()=>{}))},47596:(e,t,i)=>{i.d(t,{KV:()=>r,Mt:()=>l,Od:()=>o,UI:()=>u,Ui:()=>s,xL:()=>a});var n=i(21881);const s=(0,n.yh)("configurationService");function o(e,t){const i=Object.create(null);for(const n in e)r(i,n,e[n],t);return i}function r(e,t,i,n){const s=t.split("."),o=s.pop();let r=e;for(let c=0;c<s.length;c++){const e=s[c];let i=r[e];switch(typeof i){case"undefined":i=r[e]=Object.create(null);break;case"object":break;default:return void n(`Ignoring ${t} as ${s.slice(0,c+1).join(".")} is ${JSON.stringify(i)}`)}r=i}if("object"===typeof r&&null!==r)try{r[o]=i}catch(a){n(`Ignoring ${t} as ${s.join(".")} is ${JSON.stringify(r)}`)}else n(`Ignoring ${t} as ${s.join(".")} is ${JSON.stringify(r)}`)}function a(e,t){const i=t.split(".");c(e,i)}function c(e,t){const i=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(i)){const n=e[i];"object"!==typeof n||Array.isArray(n)||(c(n,t),0===Object.keys(n).length&&delete e[i])}}else delete e[i]}function l(e,t,i){function n(e,t){let i=e;for(const n of t){if("object"!==typeof i||null===i)return;i=i[n]}return i}const s=t.split("."),o=n(e,s);return"undefined"===typeof o?i:o}function u(e){return e.replace(/[\[\]]/g,"")}},93005:(e,t,i)=>{i.d(t,{VK:()=>p,VV:()=>h,YX:()=>m});var n=i(21921),s=i(71400),o=i(2179),r=i(55455),a=i(95896),c=i(47596),l=i(46853),u=i(39672);function d(e){return Object.isFrozen(e)?e:o._A(e)}class h{constructor(e={},t=[],i=[],n){this._contents=e,this._keys=t,this._overrides=i,this.raw=n,this.overrideConfigurations=new Map}get rawConfiguration(){var e;if(!this._rawConfiguration)if(null===(e=this.raw)||void 0===e?void 0:e.length){const e=this.raw.map((e=>{if(e instanceof h)return e;const t=new g("");return t.parseRaw(e),t.configurationModel}));this._rawConfiguration=e.reduce(((e,t)=>t===e?t:e.merge(t)),e[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?(0,c.Mt)(this.contents,e):this.contents}inspect(e,t){const i=this.rawConfiguration.getValue(e),n=t?this.rawConfiguration.getOverrideValue(e,t):void 0,s=t?this.rawConfiguration.override(t).getValue(e):i;return{value:i,override:n,merged:s}}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?(0,c.Mt)(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){var t,i;const s=o.I8(this.contents),r=o.I8(this.overrides),a=[...this.keys],c=(null===(t=this.raw)||void 0===t?void 0:t.length)?[...this.raw]:[this];for(const l of e)if(c.push(...(null===(i=l.raw)||void 0===i?void 0:i.length)?l.raw:[l]),!l.isEmpty()){this.mergeContents(s,l.contents);for(const e of l.overrides){const[t]=r.filter((t=>n.fS(t.identifiers,e.identifiers)));t?(this.mergeContents(t.contents,e.contents),t.keys.push(...e.keys),t.keys=n.EB(t.keys)):r.push(o.I8(e))}for(const e of l.keys)-1===a.indexOf(e)&&a.push(e)}return new h(s,a,r,c.every((e=>e instanceof h))?void 0:c)}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!==typeof t||!Object.keys(t).length)return this;const i={};for(const s of n.EB([...Object.keys(this.contents),...Object.keys(t)])){let e=this.contents[s];const n=t[s];n&&("object"===typeof e&&"object"===typeof n?(e=o.I8(e),this.mergeContents(e,n)):e=n),i[s]=e}return new h(i,this.keys,this.overrides)}mergeContents(e,t){for(const i of Object.keys(t))i in e&&r.Kn(e[i])&&r.Kn(t[i])?this.mergeContents(e[i],t[i]):e[i]=o.I8(t[i])}getContentsForOverrideIdentifer(e){let t=null,i=null;const s=e=>{e&&(i?this.mergeContents(i,e):i=o.I8(e))};for(const o of this.overrides)n.fS(o.identifiers,[e])?t=o.contents:o.identifiers.includes(e)&&s(o.contents);return s(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(e,t){this.updateValue(e,t,!0)}setValue(e,t){this.updateValue(e,t,!1)}removeValue(e){const t=this.keys.indexOf(e);-1!==t&&(this.keys.splice(t,1),(0,c.xL)(this.contents,e),l.eU.test(e)&&this.overrides.splice(this.overrides.findIndex((t=>n.fS(t.identifiers,(0,l.ny)(e)))),1))}updateValue(e,t,i){(0,c.KV)(this.contents,e,t,(e=>console.error(e))),i=i||-1===this.keys.indexOf(e),i&&this.keys.push(e),l.eU.test(e)&&this.overrides.push({identifiers:(0,l.ny)(e),keys:Object.keys(this.contents[e]),contents:(0,c.Od)(this.contents[e],(e=>console.error(e)))})}}class g{constructor(e){this._name=e,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new h}parseRaw(e,t){this._raw=e;const{contents:i,keys:n,overrides:s,restricted:o,hasExcludedProperties:r}=this.doParseRaw(e,t);this._configurationModel=new h(i,n,s,r?[e]:void 0),this._restrictedConfigurations=o||[]}doParseRaw(e,t){const i=u.B.as(l.IP.Configuration).getConfigurationProperties(),n=this.filter(e,i,!0,t);e=n.raw;const s=(0,c.Od)(e,(e=>console.error(`Conflict in settings file ${this._name}: ${e}`))),o=Object.keys(e),r=this.toOverrides(e,(e=>console.error(`Conflict in settings file ${this._name}: ${e}`)));return{contents:s,keys:o,overrides:r,restricted:n.restricted,hasExcludedProperties:n.hasExcludedProperties}}filter(e,t,i,n){let s=!1;if(!(null===n||void 0===n?void 0:n.scopes)&&!(null===n||void 0===n?void 0:n.skipRestricted))return{raw:e,restricted:[],hasExcludedProperties:s};const o={},r=[];for(const a in e)if(l.eU.test(a)&&i){const i=this.filter(e[a],t,!1,n);o[a]=i.raw,s=s||i.hasExcludedProperties,r.push(...i.restricted)}else{const i=t[a],c=i?"undefined"!==typeof i.scope?i.scope:3:void 0;(null===i||void 0===i?void 0:i.restricted)&&r.push(a),void 0!==c&&void 0!==n.scopes&&!n.scopes.includes(c)||n.skipRestricted&&(null===i||void 0===i?void 0:i.restricted)?s=!0:o[a]=e[a]}return{raw:o,restricted:r,hasExcludedProperties:s}}toOverrides(e,t){const i=[];for(const n of Object.keys(e))if(l.eU.test(n)){const s={};for(const t in e[n])s[t]=e[n][t];i.push({identifiers:(0,l.ny)(n),keys:Object.keys(s),contents:(0,c.Od)(s,t)})}return i}}class f{constructor(e,t,i,n,s,o,r,a,c,l,u,d,h){this.key=e,this.overrides=t,this._value=i,this.overrideIdentifiers=n,this.defaultConfiguration=s,this.policyConfiguration=o,this.applicationConfiguration=r,this.userConfiguration=a,this.localUserConfiguration=c,this.remoteUserConfiguration=l,this.workspaceConfiguration=u,this.folderConfigurationModel=d,this.memoryConfigurationModel=h}inspect(e,t,i){const n=e.inspect(t,i);return{get value(){return d(n.value)},get override(){return d(n.override)},get merged(){return d(n.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return void 0!==this.userInspectValue.value||void 0!==this.userInspectValue.override?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class p{constructor(e,t,i,n,o=new h,r=new h,a=new s.Y9,c=new h,l=new s.Y9){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=n,this._remoteUserConfiguration=o,this._workspaceConfiguration=r,this._folderConfigurations=a,this._memoryConfiguration=c,this._memoryConfigurationByResource=l,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new s.Y9,this._userConfiguration=null}getValue(e,t,i){const n=this.getConsolidatedConfigurationModel(e,t,i);return n.getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new h,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,void 0===t?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const n=this.getConsolidatedConfigurationModel(e,t,i),s=this.getFolderConfigurationModelForResource(t.resource,i),o=t.resource&&this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration,r=new Set;for(const a of n.overrides)for(const t of a.identifiers)void 0!==n.getOverrideValue(e,t)&&r.add(t);return new f(e,t,n.getValue(e),r.size?[...r]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,i?this._workspaceConfiguration:void 0,s||void 0,o)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,i){let n=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(n=n.override(t.overrideIdentifier)),this._policyConfiguration.isEmpty()||void 0===this._policyConfiguration.getValue(e)||(n=n.merge(this._policyConfiguration)),n}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);const s=this._memoryConfigurationByResource.get(e);s&&(i=i.merge(s))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce(((e,t)=>{const{contents:i,overrides:n,keys:s}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:s}]),e}),[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.policy),n=this.parseConfigurationModel(e.application),o=this.parseConfigurationModel(e.user),r=this.parseConfigurationModel(e.workspace),c=e.folders.reduce(((e,t)=>(e.set(a.o.revive(t[0]),this.parseConfigurationModel(t[1])),e)),new s.Y9);return new p(t,i,n,o,new h,r,c,new h,new s.Y9)}static parseConfigurationModel(e){return new h(e.contents,e.keys,e.overrides)}}class m{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._marker="\n",this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const s of e.keys)this.affectedKeys.add(s);for(const[,s]of e.overrides)for(const e of s)this.affectedKeys.add(e);this._affectsConfigStr=this._marker;for(const s of this.affectedKeys)this._affectsConfigStr+=s+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=p.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;const n=this._marker+e,s=this._affectsConfigStr.indexOf(n);if(s<0)return!1;const r=s+n.length;if(r>=this._affectsConfigStr.length)return!1;const a=this._affectsConfigStr.charCodeAt(r);if(a!==this._markerCode1&&a!==this._markerCode2)return!1;if(t){const n=this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(i=this.previous)||void 0===i?void 0:i.workspace):void 0,s=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!o.fS(n,s)}return!0}}},46853:(e,t,i)=>{i.d(t,{IP:()=>u,eU:()=>x,ny:()=>k});var n=i(21921),s=i(11271),o=i(55455),r=i(25206),a=i(47596),c=i(62478),l=i(39672);const u={Configuration:"base.contributions.configuration"},d={properties:{},patternProperties:{}},h={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},f={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},m={properties:{},patternProperties:{}},y="vscode://schemas/settings/resourceLanguage",C=l.B.as(c.I.JSONContribution);class _{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new s.Q5,this._onDidUpdateConfiguration=new s.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:r.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},C.registerSchema(y,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=new Set;this.doRegisterConfigurations(e,t,i),C.registerSchema(y,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){var i;const n=[];for(const{overrides:s,source:c}of e)for(const e in s)if(t.add(e),x.test(e)){const t=this.configurationDefaultsOverrides.get(e),l=null!==(i=null===t||void 0===t?void 0:t.valuesSources)&&void 0!==i?i:new Map;if(c)for(const i of Object.keys(s[e]))l.set(i,c);const u=Object.assign(Object.assign({},(null===t||void 0===t?void 0:t.value)||{}),s[e]);this.configurationDefaultsOverrides.set(e,{source:c,value:u,valuesSources:l});const d=(0,a.UI)(e),h={type:"object",default:u,description:r.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",d),$ref:y,defaultDefaultValue:u,source:o.HD(c)?void 0:c,defaultValueSource:c};n.push(...k(e)),this.configurationProperties[e]=h,this.defaultLanguageConfigurationOverridesNode.properties[e]=h}else{this.configurationDefaultsOverrides.set(e,{value:s[e],source:c});const t=this.configurationProperties[e];t&&(this.updatePropertyDefaultValue(e,t),this.updateSchema(e,t))}this.doRegisterOverrideIdentifiers(n)}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,i){e.forEach((e=>{this.validateAndRegisterProperties(e,t,e.extensionInfo,e.restrictedProperties,void 0,i),this.configurationContributors.push(e),this.registerJSONConfiguration(e)}))}validateAndRegisterProperties(e,t=!0,i,n,s=3,r){var a;s=o.Jp(e.scope)?s:e.scope;const c=e.properties;if(c)for(const u in c){const e=c[u];t&&I(u,e)?delete c[u]:(e.source=i,e.defaultDefaultValue=c[u].default,this.updatePropertyDefaultValue(u,e),x.test(u)?e.scope=void 0:(e.scope=o.Jp(e.scope)?s:e.scope,e.restricted=o.Jp(e.restricted)?!!(null===n||void 0===n?void 0:n.includes(u)):e.restricted),!c[u].hasOwnProperty("included")||c[u].included?(this.configurationProperties[u]=c[u],(null===(a=c[u].policy)||void 0===a?void 0:a.name)&&this.policyConfigurations.set(c[u].policy.name,u),!c[u].deprecationMessage&&c[u].markdownDeprecationMessage&&(c[u].deprecationMessage=c[u].markdownDeprecationMessage),r.add(u)):(this.excludedConfigurationProperties[u]=c[u],delete c[u]))}const l=e.allOf;if(l)for(const o of l)this.validateAndRegisterProperties(o,t,i,n,s,r)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=e=>{const i=e.properties;if(i)for(const t in i)this.updateSchema(t,i[t]);const n=e.allOf;null===n||void 0===n||n.forEach(t)};t(e)}updateSchema(e,t){switch(d.properties[e]=t,t.scope){case 1:h.properties[e]=t;break;case 2:g.properties[e]=t;break;case 6:f.properties[e]=t;break;case 3:p.properties[e]=t;break;case 4:m.properties[e]=t;break;case 5:m.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:r.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:r.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:y};this.updatePropertyDefaultValue(t,i),d.properties[t]=i,h.properties[t]=i,g.properties[t]=i,f.properties[t]=i,p.properties[t]=i,m.properties[t]=i}}registerOverridePropertyPatternKey(){const e={type:"object",description:r.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:r.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:y};d.patternProperties[w]=e,h.patternProperties[w]=e,g.patternProperties[w]=e,f.patternProperties[w]=e,p.patternProperties[w]=e,m.patternProperties[w]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const i=this.configurationDefaultsOverrides.get(e);let n=null===i||void 0===i?void 0:i.value,s=null===i||void 0===i?void 0:i.source;o.o8(n)&&(n=t.defaultDefaultValue,s=void 0),o.o8(n)&&(n=S(t.type)),t.default=n,t.defaultValueSource=s}}const v="\\[([^\\]]+)\\]",b=new RegExp(v,"g"),w=`^(${v})+$`,x=new RegExp(w);function k(e){const t=[];if(x.test(e)){let i=b.exec(e);while(null===i||void 0===i?void 0:i.length){const n=i[1].trim();n&&t.push(n),i=b.exec(e)}}return(0,n.EB)(t)}function S(e){const t=Array.isArray(e)?e[0]:e;switch(t){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const M=new _;function I(e,t){var i,n,s,o;return e.trim()?x.test(e)?r.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==M.getConfigurationProperties()[e]?r.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):(null===(i=t.policy)||void 0===i?void 0:i.name)&&void 0!==M.getPolicyConfigurations().get(null===(n=t.policy)||void 0===n?void 0:n.name)?r.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",e,null===(s=t.policy)||void 0===s?void 0:s.name,M.getPolicyConfigurations().get(null===(o=t.policy)||void 0===o?void 0:o.name)):null:r.NC("config.property.empty","Cannot register an empty property")}l.B.add(u.Configuration,M)},51469:(e,t,i)=>{i.d(t,{l:()=>a});var n=i(70959),s=i(93005),o=i(46853),r=i(39672);class a extends n.JT{constructor(){super(...arguments),this._configurationModel=new s.VV}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new s.VV;const e=r.B.as(o.IP.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(e),e)}updateConfigurationModel(e,t){const i=this.getConfigurationDefaultOverrides();for(const n of e){const e=i[n],s=t[n];void 0!==e?this._configurationModel.addValue(n,e):s?this._configurationModel.addValue(n,s.default):this._configurationModel.removeValue(n)}}}},47609:(e,t,i)=>{i.d(t,{aY:()=>S});var n=i(11271),s=i(39595),o=i(70959),r=i(2179),a=i(17141),c=i(95896),l=i(25206),u=i(46871),d=i(47596),h=i(66538),g=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},f=function(e,t){return function(i,n){t(i,n,e)}};const p="data-keybinding-context";class m{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value["_contextId"]=e}get value(){return Object.assign({},this._value)}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return"undefined"===typeof t&&this._parent?this._parent.getValue(e):t}}class y extends m{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}y.INSTANCE=new y;class C extends m{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=a.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((e=>{if(7===e.source){const e=Array.from(this._values,(([e])=>e));this._values.clear(),i.fire(new b(e))}else{const t=[];for(const i of e.affectedKeys){const e=`config.${i}`,n=this._values.findSuperstr(e);void 0!==n&&(t.push(...s.$.map(n,(([e])=>e))),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}i.fire(new b(t))}}))}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(C._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(C._keyPrefix.length),i=this._configurationService.getValue(t);let n;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:n=Array.isArray(i)?JSON.stringify(i):i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}C._keyPrefix="config.";class _{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){"undefined"===typeof this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class v{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class b{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every((t=>e.has(t)))}}class w{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every((t=>t.allKeysContainedIn(e)))}}function x(e,t){return e.allKeysContainedIn(new Set(Object.keys(t)))}class k{constructor(e){this._onDidChangeContext=new n.K3({merge:e=>new w(e)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new _(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new M(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId),i=!e||e.evaluate(t);return i}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new v(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new v(e))}getContext(e){return this._isDisposed?y.INSTANCE:this.getContextValuesContainer(I(e))}}let S=class extends k{constructor(e){super(0),this._contexts=new Map,this._toDispose=new o.SL,this._lastContextId=0;const t=new C(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?y.INSTANCE:this._contexts.get(e)||y.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new m(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};S=g([f(0,d.Ui)],S);class M extends k{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new o.XK,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(p)){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(e?": "+e:""))}this._domNode.setAttribute(p,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext((e=>{const t=this._parent.getContextValuesContainer(this._myContextId),i=t.value;x(e,i)||this._onDidChangeContext.fire(e)}))}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(p),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?y.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}function I(e){while(e){if(e.hasAttribute(p)){const t=e.getAttribute(p);return t?parseInt(t,10):NaN}e=e.parentElement}return 0}function D(e,t,i){const n=e.get(h.i6);n.createKey(String(t),T(i))}function T(e){return(0,r.rs)(e,(e=>"object"===typeof e&&1===e.$mid?c.o.revive(e).toString():e instanceof c.o?e.toString():void 0))}u.P.registerCommand("_setContext",D),u.P.registerCommand({id:"getContextKeyInfo",handler(){return[...h.uy.all()].sort(((e,t)=>e.key.localeCompare(t.key)))},description:{description:(0,l.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),u.P.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(const i of h.uy.all())t.has(i.key)||(t.add(i.key),e.push(i));e.sort(((e,t)=>e.key.localeCompare(t.key))),console.log(JSON.stringify(e,void 0,2))}))},66538:(e,t,i)=>{i.d(t,{Ao:()=>c,Fb:()=>l,K8:()=>K,i6:()=>A,uy:()=>T});var n=i(47606),s=i(61720),o=i(21881);const r=new Map;r.set("false",!1),r.set("true",!0),r.set("isMac",n.dz),r.set("isLinux",n.IJ),r.set("isWindows",n.ED),r.set("isWeb",n.$L),r.set("isMacNative",n.dz&&!n.$L),r.set("isEdge",n.un),r.set("isFirefox",n.vU),r.set("isChrome",n.i7),r.set("isSafari",n.G6);const a=Object.prototype.hasOwnProperty;class c{static has(e){return g.create(e)}static equals(e,t){return f.create(e,t)}static regex(e,t){return k.create(e,t)}static not(e){return C.create(e)}static and(...e){return I.create(e,null,!0)}static or(...e){return D.create(e,null,!0)}static deserialize(e){if(e)return this._deserializeOrExpression(e)}static _deserializeOrExpression(e){const t=e.split("||");return D.create(t.map((e=>this._deserializeAndExpression(e))),null,!0)}static _deserializeAndExpression(e){const t=e.split("&&");return I.create(t.map((e=>this._deserializeOne(e))),null,!0)}static _deserializeOne(e){if(e=e.trim(),e.indexOf("!=")>=0){const t=e.split("!=");return y.create(t[0].trim(),this._deserializeValue(t[1]))}if(e.indexOf("==")>=0){const t=e.split("==");return f.create(t[0].trim(),this._deserializeValue(t[1]))}if(e.indexOf("=~")>=0){const t=e.split("=~");return k.create(t[0].trim(),this._deserializeRegexValue(t[1]))}if(e.indexOf(" not in ")>=0){const t=e.split(" not in ");return m.create(t[0].trim(),this._deserializeValue(t[1]))}if(e.indexOf(" in ")>=0){const t=e.split(" in ");return p.create(t[0].trim(),this._deserializeValue(t[1]))}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const t=e.split(">=");return b.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const t=e.split(">");return v.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const t=e.split("<=");return x.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const t=e.split("<");return w.create(t[0].trim(),t[1].trim())}return/^\!\s*/.test(e)?C.create(e.substr(1).trim()):g.create(e)}static _deserializeValue(e){if(e=e.trim(),"true"===e)return!0;if("false"===e)return!1;const t=/^'([^']*)'$/.exec(e);return t?t[1].trim():e}static _deserializeRegexValue(e){if((0,s.m5)(e))return null;const t=e.indexOf("/"),i=e.lastIndexOf("/");if(t===i||t<0)return null;const n=e.slice(t+1,i),o="i"===e[i+1]?"i":"";try{return new RegExp(n,o)}catch(r){return null}}}function l(e,t){const i=e?e.substituteConstants():void 0,n=t?t.substituteConstants():void 0;return!i&&!n||!(!i||!n)&&i.equals(n)}function u(e,t){return e.cmp(t)}class d{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return h.INSTANCE}}d.INSTANCE=new d;class h{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return d.INSTANCE}}h.INSTANCE=new h;class g{static create(e,t=null){const i=r.get(e);return"boolean"===typeof i?i?h.INSTANCE:d.INSTANCE:new g(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:N(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=r.get(this.key);return"boolean"===typeof e?e?h.INSTANCE:d.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=C.create(this.key,this)),this.negated}}class f{static create(e,t,i=null){if("boolean"===typeof t)return t?g.create(e,i):C.create(e,i);const n=r.get(e);if("boolean"===typeof n){const e=n?"true":"false";return t===e?h.INSTANCE:d.INSTANCE}return new f(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=r.get(this.key);if("boolean"===typeof e){const t=e?"true":"false";return this.value===t?h.INSTANCE:d.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=y.create(this.key,this.value,this)),this.negated}}class p{static create(e,t){return new p(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):"string"===typeof i&&"object"===typeof t&&null!==t&&a.call(t,i)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=m.create(this.key,this.valueKey)),this.negated}}class m{static create(e,t){return new m(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=p.create(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type&&this._negated.equals(e._negated)}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class y{static create(e,t,i=null){if("boolean"===typeof t)return t?C.create(e,i):g.create(e,i);const n=r.get(e);if("boolean"===typeof n){const e=n?"true":"false";return t===e?d.INSTANCE:h.INSTANCE}return new y(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=r.get(this.key);if("boolean"===typeof e){const t=e?"true":"false";return this.value===t?d.INSTANCE:h.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this.key,this.value,this)),this.negated}}class C{static create(e,t=null){const i=r.get(e);return"boolean"===typeof i?i?d.INSTANCE:h.INSTANCE:new C(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:N(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=r.get(this.key);return"boolean"===typeof e?e?d.INSTANCE:h.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this)),this.negated}}function _(e,t){if("string"===typeof e){const t=parseFloat(e);isNaN(t)||(e=t)}return"string"===typeof e||"number"===typeof e?t(e):d.INSTANCE}class v{static create(e,t,i=null){return _(t,(t=>new v(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!==typeof this.value&&parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this.key,this.value,this)),this.negated}}class b{static create(e,t,i=null){return _(t,(t=>new b(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!==typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=w.create(this.key,this.value,this)),this.negated}}class w{static create(e,t,i=null){return _(t,(t=>new w(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!==typeof this.value&&parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}class x{static create(e,t,i=null){return _(t,(t=>new x(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!==typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=v.create(this.key,this.value,this)),this.negated}}class k{static create(e,t){return new k(e,t)}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=S.create(this)),this.negated}}class S{static create(e){return new S(e)}constructor(e){this._actual=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function M(e){let t=null;for(let i=0,n=e.length;i<n;i++){const n=e[i].substituteConstants();if(e[i]!==n&&null===t){t=[];for(let n=0;n<i;n++)t[n]=e[n]}null!==t&&(t[i]=n)}return null===t?e:t}class I{static create(e,t,i){return I._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=u(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=M(this.expr);return e===this.expr?this:I.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,i){const n=[];let s=!1;for(const o of e)if(o)if(1!==o.type){if(0===o.type)return d.INSTANCE;6!==o.type?n.push(o):n.push(...o.expr)}else s=!0;if(0===n.length&&s)return h.INSTANCE;if(0!==n.length){if(1===n.length)return n[0];n.sort(u);for(let e=1;e<n.length;e++)n[e-1].equals(n[e])&&(n.splice(e,1),e--);if(1===n.length)return n[0];while(n.length>1){const e=n[n.length-1];if(9!==e.type)break;n.pop();const t=n.pop(),s=0===n.length,o=D.create(e.expr.map((e=>I.create([e,t],null,i))),null,s);o&&(n.push(o),n.sort(u))}if(1===n.length)return n[0];if(i){for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++)if(n[e].negate().equals(n[t]))return d.INSTANCE;if(1===n.length)return n[0]}return new I(n,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=D.create(e,this,!0)}return this.negated}}class D{static create(e,t,i){return D._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=u(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=M(this.expr);return e===this.expr?this:D.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let n=[],s=!1;if(e){for(let t=0,i=e.length;t<i;t++){const i=e[t];if(i)if(0!==i.type){if(1===i.type)return h.INSTANCE;9!==i.type?n.push(i):n=n.concat(i.expr)}else s=!0}if(0===n.length&&s)return d.INSTANCE;n.sort(u)}if(0!==n.length){if(1===n.length)return n[0];for(let e=1;e<n.length;e++)n[e-1].equals(n[e])&&(n.splice(e,1),e--);if(1===n.length)return n[0];if(i){for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++)if(n[e].negate().equals(n[t]))return h.INSTANCE;if(1===n.length)return n[0]}return new D(n,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());while(e.length>1){const t=e.shift(),i=e.shift(),n=[];for(const e of R(t))for(const t of R(i))n.push(I.create([e,t],null,!1));e.unshift(D.create(n,null,!1))}this.negated=D.create(e,this,!0)}return this.negated}}class T extends g{static all(){return T._info.values()}constructor(e,t,i){super(e,null),this._defaultValue=t,"object"===typeof i?T._info.push(Object.assign(Object.assign({},i),{key:e})):!0!==i&&T._info.push({key:e,description:i,type:null!==t&&void 0!==t?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return f.create(this.key,e)}}T._info=[];const A=(0,o.yh)("contextKeyService");function N(e,t){return e<t?-1:e>t?1:0}function E(e,t,i,n){return e<i?-1:e>i?1:t<n?-1:t>n?1:0}function K(e,t){if(0===e.type||1===t.type)return!0;if(9===e.type)return 9===t.type&&O(e.expr,t.expr);if(9===t.type){for(const i of t.expr)if(K(e,i))return!0;return!1}if(6===e.type){if(6===t.type)return O(t.expr,e.expr);for(const i of e.expr)if(K(i,t))return!0;return!1}return e.equals(t)}function O(e,t){let i=0,n=0;while(i<e.length&&n<t.length){const s=e[i].cmp(t[n]);if(s<0)return!1;0===s?(i++,n++):n++}return i===e.length}function R(e){return 9===e.type?e.expr:[e]}},29689:(e,t,i)=>{i.d(t,{cv:()=>r,d0:()=>a});var n=i(47606),s=i(25206),o=i(66538);new o.uy("isMac",n.dz,(0,s.NC)("isMac","Whether the operating system is macOS")),new o.uy("isLinux",n.IJ,(0,s.NC)("isLinux","Whether the operating system is Linux"));const r=new o.uy("isWindows",n.ED,(0,s.NC)("isWindows","Whether the operating system is Windows")),a=(new o.uy("isWeb",n.$L,(0,s.NC)("isWeb","Whether the platform is a web browser")),new o.uy("isMacNative",n.dz&&!n.$L,(0,s.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new o.uy("isIOS",n.gn,(0,s.NC)("isIOS","Whether the operating system is iOS")),new o.uy("isMobile",n.tq,(0,s.NC)("isMobile","Whether the platform is a mobile web browser")),new o.uy("isDevelopment",!1,!0),new o.uy("productQualityType","",(0,s.NC)("productQualityType","Quality type of VS Code")),"inputFocus");new o.uy(a,!1,(0,s.NC)("inputFocus","Whether keyboard focus is inside an input box"))},4060:(e,t,i)=>{i.d(t,{L:()=>b});var n=i(2548),s=i(10205),o=i(11271),r=i(70959),a=i(94700),c=i(82693),l=i(66538),u=i(15285),d=i(18736),h=i(38857),g=i(75467),f=i(69969),p=i(98642),m=i(22454);class y{constructor(e,t,i,n){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let i;this.focusToReturn=document.activeElement;const o=(0,n.Re)(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:o=>{var a;this.lastContainer=o;const c=e.getMenuClassName?e.getMenuClassName():"";c&&(o.className+=" "+c),this.options.blockMouse&&(this.block=o.appendChild((0,n.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",null===(a=this.blockDisposable)||void 0===a||a.dispose(),this.blockDisposable=(0,n.nm)(this.block,n.tw.MOUSE_DOWN,(e=>e.stopPropagation())));const l=new r.SL,u=e.actionRunner||new s.Wi;return u.onWillRun((t=>this.onActionRun(t,!e.skipTelemetry)),this,l),u.onDidRun(this.onDidActionRun,this,l),i=new f.v2(o,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:u,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)},m.ZR),i.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,l),i.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,l),l.add((0,n.nm)(window,n.tw.BLUR,(()=>this.contextViewService.hideContextView(!0)))),l.add((0,n.nm)(window,n.tw.MOUSE_DOWN,(e=>{if(e.defaultPrevented)return;const t=new g.n(e);let i=t.target;if(!t.rightButton){while(i){if(i===o)return;i=i.parentElement}this.contextViewService.hideContextView(!0)}}))),(0,r.F8)(l,i)},focus:()=>{null===i||void 0===i||i.focus(!!e.autoSelectFirstItem)},onHide:t=>{var i,s,o;null===(i=e.onHide)||void 0===i||i.call(e,!!t),this.block&&(this.block.remove(),this.block=null),null===(s=this.blockDisposable)||void 0===s||s.dispose(),this.blockDisposable=null,this.lastContainer&&((0,n.vY)()===this.lastContainer||(0,n.jg)((0,n.vY)(),this.lastContainer))&&(null===(o=this.focusToReturn)||void 0===o||o.focus()),this.lastContainer=null}},o,!!o)}onActionRun(e,t){t&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(e){e.error&&!(0,p.n2)(e.error)&&this.notificationService.error(e.error)}}var C=i(93753),_=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},v=function(e,t){return function(i,n){t(i,n,e)}};let b=class extends r.JT{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new y(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(e,t,i,n,s,r){super(),this.telemetryService=e,this.notificationService=t,this.contextViewService=i,this.keybindingService=n,this.menuService=s,this.contextKeyService=r,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new o.Q5),this._onDidHideContextMenu=this._store.add(new o.Q5)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){e=w.transform(e,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:t=>{var i;null===(i=e.onHide)||void 0===i||i.call(e,t),this._onDidHideContextMenu.fire()}})),n._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};var w;b=_([v(0,h.b),v(1,d.lT),v(2,C.u),v(3,u.d),v(4,c.co),v(5,l.i6)],b),function(e){function t(e){return e&&e.menuId instanceof c.eH}function i(e,i,n){if(!t(e))return e;const{menuId:o,menuActionOptions:r,contextKeyService:c}=e;return Object.assign(Object.assign({},e),{getActions:()=>{const t=[];if(o){const e=i.createMenu(o,null!==c&&void 0!==c?c:n);(0,a.LJ)(e,r,t),e.dispose()}return e.getActions?s.Z0.join(e.getActions(),t):t}})}e.transform=i}(w||(w={}))},93753:(e,t,i)=>{i.d(t,{i:()=>o,u:()=>s});var n=i(21881);const s=(0,n.yh)("contextViewService"),o=(0,n.yh)("contextMenuService")},59669:(e,t,i)=>{i.d(t,{g:()=>c});var n=i(17232),s=i(70959),o=i(38079),r=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},a=function(e,t){return function(i,n){t(i,n,e)}};let c=class extends s.JT{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=s.JT.None,this.container=e.hasContainer?e.container:null,this.contextView=this._register(new n.Ry(this.container,1)),this.layout(),this._register(e.onDidLayout((()=>this.layout())))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t===this.container&&this.shadowRoot===i||(this.container=t,this.setContainer(t,i?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=i,this.contextView.show(e);const n=(0,s.OF)((()=>{this.currentViewDisposable===n&&this.hideContextView()}));return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};c=r([a(0,o.F)],c)},8283:(e,t,i)=>{i.d(t,{S:()=>s});var n=i(21881);const s=(0,n.yh)("dialogService")},60808:(e,t,i)=>{i.d(t,{GR:()=>u,Km:()=>l});var n=i(1483),s=i(71400),o=i(79247),r=i(95896),a=i(6544),c=i(39672);const l={EDITORS:"CodeEditors",FILES:"CodeFiles"};function u(e){var t;const i=[];if(e.dataTransfer&&e.dataTransfer.types.length>0){const s=e.dataTransfer.getData(l.EDITORS);if(s)try{i.push(...(0,o.Q)(s))}catch(h){}else try{const t=e.dataTransfer.getData(n.g.RESOURCES);i.push(...d(t))}catch(h){}if(null===(t=e.dataTransfer)||void 0===t?void 0:t.files)for(let t=0;t<e.dataTransfer.files.length;t++){const n=e.dataTransfer.files[t];if(n&&n.path)try{i.push({resource:r.o.file(n.path),isExternal:!0,allowWorkspaceOpen:!0})}catch(h){}}const a=e.dataTransfer.getData(l.FILES);if(a)try{const e=JSON.parse(a);for(const t of e)i.push({resource:r.o.file(t),isExternal:!0,allowWorkspaceOpen:!0})}catch(h){}const u=c.B.as(g.DragAndDropContribution).getAll();for(const t of u){const n=e.dataTransfer.getData(t.dataFormatKey);if(n)try{i.push(...t.getEditorInputs(n))}catch(h){}}}const a=[],u=new s.Y9;for(const n of i)n.resource?u.has(n.resource)||(a.push(n),u.set(n.resource,!0)):a.push(n);return a}function d(e){const t=[];if(e){const i=JSON.parse(e);for(const e of i)if(e.indexOf(":")>0){const{selection:i,uri:n}=(0,a.xI)(r.o.parse(e));t.push({resource:n,options:{selection:i}})}}return t}class h{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}}const g={DragAndDropContribution:"workbench.contributions.dragAndDrop"};c.B.add(g.DragAndDropContribution,new h)},888:(e,t,i)=>{var n;i.d(t,{v:()=>n}),function(e){e[e["API"]=0]="API",e[e["USER"]=1]="USER"}(n||(n={}))},94022:(e,t,i)=>{i.d(t,{k:()=>n});class n{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"===typeof e?e.toLowerCase():e._lower}}},3365:(e,t,i)=>{var n;i.d(t,{R:()=>n}),function(e){e[e["FILE"]=0]="FILE",e[e["FOLDER"]=1]="FOLDER",e[e["ROOT_FOLDER"]=2]="ROOT_FOLDER"}(n||(n={}))},97795:(e,t,i)=>{i.d(t,{Nq:()=>_,Yb:()=>C,iX:()=>d});var n=i(93575),s=i(88779),o=i(66538),r=i(37395),a=i(25206),c=i(70959),l=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},u=function(e,t){return function(i,n){t(i,n,e)}};const d=new o.uy("suggestWidgetVisible",!1,(0,a.NC)("suggestWidgetVisible","Whether suggestion are visible")),h="historyNavigationWidgetFocus",g="historyNavigationForwardsEnabled",f="historyNavigationBackwardsEnabled";let p;const m=[];function y(e,t){if(m.includes(t))throw new Error("Cannot register the same widget multiple times");m.push(t);const i=new c.SL,n=new o.uy(h,!1).bindTo(e),s=new o.uy(g,!0).bindTo(e),r=new o.uy(f,!0).bindTo(e),a=()=>{n.set(!0),p=t},l=()=>{n.set(!1),p===t&&(p=void 0)};return t.element===document.activeElement&&a(),i.add(t.onDidFocus((()=>a()))),i.add(t.onDidBlur((()=>l()))),i.add((0,c.OF)((()=>{m.splice(m.indexOf(t),1),l()}))),{historyNavigationForwardsEnablement:s,historyNavigationBackwardsEnablement:r,dispose(){i.dispose()}}}let C=class extends n.V{constructor(e,t,i,n){super(e,t,i);const s=this._register(n.createScoped(this.inputBox.element));this._register(y(s,this.inputBox))}};C=l([u(3,o.i6)],C);let _=class extends s.R{constructor(e,t,i,n,s=!1){super(e,t,s,i);const o=this._register(n.createScoped(this.inputBox.element));this._register(y(o,this.inputBox))}};_=l([u(3,o.i6)],_),r.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:o.Ao.and(o.Ao.has(h),o.Ao.equals(f,!0),d.isEqualTo(!1)),primary:16,secondary:[528],handler:e=>{null===p||void 0===p||p.showPreviousValue()}}),r.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:o.Ao.and(o.Ao.has(h),o.Ao.equals(g,!0),d.isEqualTo(!1)),primary:18,secondary:[530],handler:e=>{null===p||void 0===p||p.showNextValue()}})},20760:(e,t,i)=>{function n(e){var t,i;return"Up"===(null===(t=e.lookupKeybinding("history.showPrevious"))||void 0===t?void 0:t.getElectronAccelerator())&&"Down"===(null===(i=e.lookupKeybinding("history.showNext"))||void 0===i?void 0:i.getElectronAccelerator())}i.d(t,{u:()=>n})},42976:(e,t,i)=>{i.d(t,{M:()=>n});class n{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}},39326:(e,t,i)=>{i.d(t,{d:()=>r,z:()=>o});var n=i(42976);const s=[];function o(e,t,i){t instanceof n.M||(t=new n.M(t,[],Boolean(i))),s.push([e,t])}function r(){return s}},21881:(e,t,i)=>{var n;i.d(t,{I8:()=>n,TG:()=>s,yh:()=>r}),function(e){function t(t){return t[e.DI_DEPENDENCIES]||[]}e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=t}(n||(n={}));const s=r("instantiationService");function o(e,t,i){t[n.DI_TARGET]===t?t[n.DI_DEPENDENCIES].push({id:e,index:i}):(t[n.DI_DEPENDENCIES]=[{id:e,index:i}],t[n.DI_TARGET]=t)}function r(e){if(n.serviceIds.has(e))return n.serviceIds.get(e);const t=function(e,i,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");o(t,e,n)};return t.toString=()=>e,n.serviceIds.set(e,t),t}},70125:(e,t,i)=>{i.d(t,{F:()=>f});var n=i(85398),s=i(98642),o=i(70959),r=i(42976);class a{constructor(e,t){this.key=e,this.data=t,this.incoming=new Map,this.outgoing=new Map}}class c{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(n.key,n),n.incoming.set(i.key,i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new a(t,e),this._nodes.set(t,i)),i}isEmpty(){return 0===this._nodes.size}toString(){const e=[];for(const[t,i]of this._nodes)e.push(`${t}\n\t(-> incoming)[${[...i.incoming.keys()].join(", ")}]\n\t(outgoing ->)[${[...i.outgoing.keys()].join(",")}]\n`);return e.join("\n")}findCycleSlow(){for(const[e,t]of this._nodes){const i=new Set([e]),n=this._findCycle(t,i);if(n)return n}}_findCycle(e,t){for(const[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const e=this._findCycle(n,t);if(e)return e;t.delete(i)}}}var l=i(21881),u=i(39159),d=i(33010);const h=!1;class g extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:`UNABLE to detect cycle, dumping graph: \n${e.toString()}`}}class f{constructor(e=new u.y,t=!1,i,n=h){var s;this._services=e,this._strict=t,this._parent=i,this._enableTracing=n,this._activeInstantiations=new Set,this._services.set(l.TG,this),this._globalGraph=n?null!==(s=null===i||void 0===i?void 0:i._globalGraph)&&void 0!==s?s:new c((e=>e)):void 0}createChild(e){return new f(e,this._strict,this,this._enableTracing)}invokeFunction(e,...t){const i=p.traceInvocation(this._enableTracing,e);let n=!1;try{const o={get:e=>{if(n)throw(0,s.L6)("service accessor is only valid during the invocation of its target method");const t=this._getOrCreateServiceInstance(e,i);if(!t)throw new Error(`[invokeFunction] unknown service '${e}'`);return t}};return e(o,...t)}finally{n=!0,i.stop()}}createInstance(e,...t){let i,n;return e instanceof r.M?(i=p.traceCreation(this._enableTracing,e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=p.traceCreation(this._enableTracing,e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){const n=l.I8.getServiceDependencies(e).sort(((e,t)=>e.index-t.index)),s=[];for(const r of n){const t=this._getOrCreateServiceInstance(r.id,i);t||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${r.id}.`,!1),s.push(t)}const o=n.length>0?n[0].index:t.length;if(t.length!==o){console.trace(`[createInstance] First service dependency of ${e.name} at position ${o+1} conflicts with ${t.length} static arguments`);const i=o-t.length;t=i>0?t.concat(new Array(i)):t.slice(0,o)}return Reflect.construct(e,t.concat(s))}_setServiceInstance(e,t){if(this._services.get(e)instanceof r.M)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(e));const i=this._getServiceInstanceOrDescriptor(e);return i instanceof r.M?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){var n;const s=new c((e=>e.id.toString()));let o=0;const a=[{id:e,desc:t,_trace:i}];while(a.length){const t=a.pop();if(s.lookupOrInsertNode(t),o++>1e3)throw new g(s);for(const i of l.I8.getServiceDependencies(t.desc.ctor)){const o=this._getServiceInstanceOrDescriptor(i.id);if(o||this._throwIfStrict(`[createInstance] ${e} depends on ${i.id} which is NOT registered.`,!0),null===(n=this._globalGraph)||void 0===n||n.insertEdge(String(t.id),String(i.id)),o instanceof r.M){const e={id:i.id,desc:o,_trace:t._trace.branch(i.id,!0)};s.insertEdge(t,e),a.push(e)}}}while(1){const e=s.roots();if(0===e.length){if(!s.isEmpty())throw new g(s);break}for(const{data:t}of e){const e=this._getServiceInstanceOrDescriptor(t.id);if(e instanceof r.M){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e)}s.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,s){if(this._services.get(e)instanceof r.M)return this._createServiceInstance(e,t,i,n,s);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,s);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t,i=[],s,r){if(s){const s=new f(void 0,this._strict,this,this._enableTracing);s._globalGraphImplicitDependency=String(e);const a=new Map,c=new n.Ue((()=>{const e=s._createInstance(t,i,r);for(const[t,i]of a){const n=e[t];if("function"===typeof n)for(const t of i)n.apply(e,t)}return a.clear(),e}));return new Proxy(Object.create(null),{get(e,t){if(!c.isInitialized&&"string"===typeof t&&(t.startsWith("onDid")||t.startsWith("onWill"))){let e=a.get(t);e||(e=new d.S,a.set(t,e));const i=(t,i,n)=>{const s=e.push([t,i,n]);return(0,o.OF)(s)};return i}if(t in e)return e[t];const i=c.value;let n=i[t];return"function"!==typeof n||(n=n.bind(i),e[t]=n),n},set(e,t,i){return c.value[t]=i,!0},getPrototypeOf(e){return t.prototype}})}return this._createInstance(t,i,r)}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}class p{static traceInvocation(e,t){return e?new p(2,t.name||(new Error).stack.split("\n").slice(3,4).join("\n")):p._None}static traceCreation(e,t){return e?new p(1,t.name):p._None}constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}branch(e,t){const i=new p(3,e.toString());return this._dep.push([e,t,i]),i}stop(){const e=Date.now()-this._start;p._totals+=e;let t=!1;function i(e,n){const s=[],o=new Array(e+1).join("\t");for(const[r,a,c]of n._dep)if(a&&c){t=!0,s.push(`${o}CREATES -> ${r}`);const n=i(e+1,c);n&&s.push(n)}else s.push(`${o}uses -> ${r}`);return s.join("\n")}const n=[`${1===this.type?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${p._totals.toFixed(2)}ms)`];(e>2||t)&&p.all.add(n.join("\n"))}}p.all=new Set,p._None=new class extends p{constructor(){super(0,null)}stop(){}branch(){return this}},p._totals=0},39159:(e,t,i)=>{i.d(t,{y:()=>n});class n{constructor(...e){this._entries=new Map;for(const[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}}},62478:(e,t,i)=>{i.d(t,{I:()=>o});var n=i(11271),s=i(39672);const o={JSONContribution:"base.contributions.json"};function r(e){return e.length>0&&"#"===e.charAt(e.length-1)?e.substring(0,e.length-1):e}class a{constructor(){this._onDidChangeSchema=new n.Q5,this.schemasById={}}registerSchema(e,t){this.schemasById[r(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}}const c=new a;s.B.add(o.JSONContribution,c)},4488:(e,t,i)=>{i.d(t,{F:()=>l});var n=i(85398),s=i(11271),o=i(70959),r=i(25206),a=i(73218);const c=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class l extends o.JT{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:s.ju.None}constructor(e,t,i,o,r){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=o,this._logService=r,this._onDidUpdateKeybindings=this._register(new s.Q5),this._currentChord=null,this._currentChordChecker=new n.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=u.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new n._F,this._logging=!1}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(e);if(i.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),null;const[n]=i.getDispatchChords();if(null===n)return this._log("\\ Keyboard event cannot be dispatched"),null;const s=this._contextKeyService.getContext(t),o=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(s,o,n)}_enterMultiChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(r.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",t));const i=Date.now();this._currentChordChecker.cancelAndSet((()=>{this._documentHasFocus()?Date.now()-i>5e3&&this._leaveChordMode():this._leaveChordMode()}),500),a.F.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null,a.F.enable()}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchChords();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=u.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=u.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet((()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null}),300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[s]=i.getChords();return this._ignoreSingleModifiers=new u(s),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let n=!1;if(e.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let s=null,o=null;if(i){const[t]=e.getSingleModifierDispatchChords();s=t,o=t}else[s]=e.getDispatchChords(),o=this._currentChord?this._currentChord.keypress:null;if(null===s)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n;const a=this._contextKeyService.getContext(t),l=e.getLabel(),u=this._getResolver().resolve(a,o,s);return this._logService.trace("KeybindingService#dispatch",l,null===u||void 0===u?void 0:u.commandId),u&&u.enterMultiChord?(n=!0,this._enterMultiChordMode(s,l),this._log("+ Entering chord mode..."),n):(this._currentChord&&(u&&u.commandId||(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${l}".`),this._notificationService.status(r.NC("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),{hideAfter:1e4}),n=!0)),this._leaveChordMode(),u&&u.commandId&&(u.bubble||(n=!0),this._log(`+ Invoking command ${u.commandId}.`),"undefined"===typeof u.commandArgs?this._commandService.executeCommand(u.commandId).then(void 0,(e=>this._notificationService.warn(e))):this._commandService.executeCommand(u.commandId,u.commandArgs).then(void 0,(e=>this._notificationService.warn(e))),c.test(u.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:u.commandId,from:"keybinding"})),n)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}class u{constructor(e){this._ctrlKey=!!e&&e.ctrlKey,this._shiftKey=!!e&&e.shiftKey,this._altKey=!!e&&e.altKey,this._metaKey=!!e&&e.metaKey}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}u.EMPTY=new u(null)},15285:(e,t,i)=>{i.d(t,{d:()=>s});var n=i(21881);const s=(0,n.yh)("keybindingService")},50315:(e,t,i)=>{i.d(t,{s:()=>s});var n=i(66538);class s{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const n of e){const e=n.command;e&&"-"!==e.charAt(0)&&this._defaultBoundCommands.set(e,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=s.handleRemovals([].concat(e).concat(t));for(let n=0,s=this._keybindings.length;n<s;n++){const e=this._keybindings[n];0!==e.chords.length&&(e.when&&0===e.when.type||this._addKeyPress(e.chords[0],e))}}static _isTargetedForRemoval(e,t,i,s){if(t&&e.chords[0]!==t)return!1;if(i&&e.chords[1]!==i)return!1;if(s&&1!==s.type){if(!e.when)return!1;if(!(0,n.Fb)(s,e.when))return!1}return!0}static handleRemovals(e){const t=new Map;for(let n=0,s=e.length;n<s;n++){const i=e[n];if(i.command&&"-"===i.command.charAt(0)){const e=i.command.substring(1);t.has(e)?t.get(e).push(i):t.set(e,[i])}}if(0===t.size)return e;const i=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(!s.command||0===s.command.length){i.push(s);continue}if("-"===s.command.charAt(0))continue;const o=t.get(s.command);if(!o||!s.isDefault){i.push(s);continue}let r=!1;for(const e of o){const t=e.chords[0],i=e.chords[1],n=e.when;if(this._isTargetedForRemoval(s,t,i,n)){r=!0;break}}r||i.push(s)}return i}_addKeyPress(e,t){const i=this._map.get(e);if("undefined"===typeof i)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let n=i.length-1;n>=0;n--){const e=i[n];if(e.command===t.command)continue;const o=e.chords.length>1,r=t.chords.length>1;o&&r&&e.chords[1]!==t.chords[1]||s.whenIsEntirelyIncluded(e.when,t.when)&&this._removeFromLookupMap(e)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);"undefined"===typeof t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if("undefined"!==typeof t)for(let i=0,n=t.length;i<n;i++)if(t[i]===e)return void t.splice(i,1)}static whenIsEntirelyIncluded(e,t){return!t||1===t.type||!(!e||1===e.type)&&(0,n.K8)(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if("undefined"===typeof i||0===i.length)return null;if(1===i.length)return i[0];for(let n=i.length-1;n>=0;n--){const e=i[n];if(t.contextMatchesRules(e.when))return e}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let n=null;if(null!==t){const e=this._map.get(t);if("undefined"===typeof e)return this._log("\\ No keybinding entries."),null;n=[];for(let t=0,s=e.length;t<s;t++){const s=e[t];s.chords[1]===i&&n.push(s)}}else{const e=this._map.get(i);if("undefined"===typeof e)return this._log("\\ No keybinding entries."),null;n=e}const s=this._findCommand(e,n);return s?null===t&&s.chords.length>1&&null!==s.chords[1]?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${o(s.when)}, source: ${r(s)}.`),{enterMultiChord:!0,leaveMultiChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${s.command}, when: ${o(s.when)}, source: ${r(s)}.`),{enterMultiChord:!1,leaveMultiChord:s.chords.length>1,commandId:s.command,commandArgs:s.commandArgs,bubble:s.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){const n=t[i];if(s._contextMatchesRules(e,n.when))return n}return null}static _contextMatchesRules(e,t){return!t||t.evaluate(e)}}function o(e){return e?`${e.serialize()}`:"no when condition"}function r(e){return e.extensionId?e.isBuiltinExtension?`built-in extension ${e.extensionId}`:`user extension ${e.extensionId}`:e.isDefault?"built-in":"user"}},37395:(e,t,i)=>{i.d(t,{W:()=>u});var n=i(19321),s=i(47606),o=i(46871),r=i(39672),a=i(70959),c=i(33010);class l{constructor(){this._coreKeybindings=new c.S,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===s.OS){if(e&&e.win)return e.win}else if(2===s.OS){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=l.bindToCurrentPlatform(e),i=new a.SL;if(t&&t.primary){const o=(0,n.Z9)(t.primary,s.OS);o&&i.add(this._registerDefaultKeybinding(o,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let o=0,r=t.secondary.length;o<r;o++){const r=t.secondary[o],a=(0,n.Z9)(r,s.OS);a&&i.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-o-1,e.when))}return i}registerCommandAndKeybindingRule(e){return(0,a.F8)(this.registerKeybindingRule(e),o.P.registerCommand(e))}_registerDefaultKeybinding(e,t,i,n,s,o){const r=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:o,weight1:n,weight2:s,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,a.OF)((()=>{r(),this._cachedMergedKeybindings=null}))}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(h)),this._cachedMergedKeybindings.slice(0)}}const u=new l,d={EditorModes:"platform.keybindingsRegistry"};function h(e,t){if(e.weight1!==t.weight1)return e.weight1-t.weight1;if(e.command&&t.command){if(e.command<t.command)return-1;if(e.command>t.command)return 1}return e.weight2-t.weight2}r.B.add(d.EditorModes,u)},85933:(e,t,i)=>{i.d(t,{M:()=>n,a:()=>s});class n{constructor(e,t,i,n,o,r,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.chords=e?s(e.getDispatchChords()):[],e&&0===this.chords.length&&(this.chords=s(e.getSingleModifierDispatchChords())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=o,this.extensionId=r,this.isBuiltinExtension=a}}function s(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n)return[];t.push(n)}return t}},36994:(e,t,i)=>{i.d(t,{j:()=>l});var n=i(56082),s=i(19321),o=i(98642),r=i(9501);class a extends s.f1{constructor(e,t){if(super(),0===t.length)throw(0,o.b1)("chords");this._os=e,this._chords=t}getLabel(){return r.xo.toLabel(this._os,this._chords,(e=>this._getLabel(e)))}getAriaLabel(){return r.X4.toLabel(this._os,this._chords,(e=>this._getAriaLabel(e)))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:r.jC.toLabel(this._os,this._chords,(e=>this._getElectronAccelerator(e)))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map((e=>this._getChord(e)))}_getChord(e){return new s.aZ(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchChords(){return this._chords.map((e=>this._getChordDispatch(e)))}getSingleModifierDispatchChords(){return this._chords.map((e=>this._getSingleModifierChordDispatch(e)))}}var c=i(85933);class l extends a{constructor(e,t){super(t,e)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return n.kL.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":n.kL.toString(e.keyCode)}_getElectronAccelerator(e){return n.kL.toElectronAccelerator(e.keyCode)}_getChordDispatch(e){return l.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=n.kL.toString(e.keyCode),t}_getSingleModifierChordDispatch(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(e){const t=n.Vd[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _toKeyCodeChord(e){if(!e)return null;if(e instanceof s.$M)return e;const t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new s.$M(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveKeybinding(e,t){const i=(0,c.a)(e.chords.map((e=>this._toKeyCodeChord(e))));return i.length>0?[new l(i,t)]:[]}}}}]);